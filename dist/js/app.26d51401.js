(function(e){function t(t){for(var a,i,c=t[0],s=t[1],u=t[2],b=0,d=[];b<c.length;b++)i=c[b],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/odc-monitor/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"05b3":function(e,t,n){},1976:function(e,t,n){"use strict";n("5556")},"2f0f":function(e,t,n){"use strict";n("9d1f")},5556:function(e,t,n){},"5e66":function(e,t,n){"use strict";n("c314")},"97d5":function(e,t,n){"use strict";n("e403")},"9d1f":function(e,t,n){},c314:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(e,t,n,o,r,i){var c=Object(a["Q"])("overview-info"),s=Object(a["Q"])("biz-group-info"),u=Object(a["Q"])("monitor-toolbar");return Object(a["H"])(),Object(a["m"])(a["b"],null,[Object(a["q"])(c),Object(a["q"])(s,{onSeatClick:e.onSeatClick},null,8,["onSeatClick"]),Object(a["q"])(u,{onClickMonitorBtn:e.onMonitorClick,onMonitorMouseMove:e.onMonitorMouseMove,onRefresh:e.onRefresh},null,8,["onClickMonitorBtn","onMonitorMouseMove","onRefresh"])],64)}var r=n("7864"),i=n("d4ec"),c=n("bee2"),s=n("ade3"),u=(n("caad"),n("2532"),n("ac1f"),n("841c"),n("d3b7"),n("3ca3"),n("ddb0"),n("4160"),n("159b"),n("c0b6"),n("5a89")),l=n("22b5"),b=n("4721"),d=n("2909"),h=(n("13d5"),n("99af"),n("3835")),v=(n("d81d"),function(e){return e/window.innerWidth*2-1}),f=function(e){return-e/window.innerHeight*2+1},p=function(e){var t=71200,n=1600;return e*n/t},O=function(e,t){var n=e.map((function(e){return p(e)})),a=Object(h["a"])(n,2),o=a[0],r=a[1],i=t.map((function(e){return p(e)})),c=Object(h["a"])(i,2),s=c[0],u=c[1],l=(o+s)/2,b=(r+u)/2;return{x:b,z:l}},j=function(e,t,n){var a=e.camera,o=e.raycasterInstance;o.setFromCamera(t,a);var r=o.intersectObjects(n,!0);if(r.length>0)return r[0].object},m=function(){function e(t){var n=t.camera,a=t.highlightOutlinePass;Object(i["a"])(this,e),Object(s["a"])(this,"observers",void 0),Object(s["a"])(this,"camera",void 0),Object(s["a"])(this,"highlightOutlinePass",void 0),Object(s["a"])(this,"moveRaycaster",void 0),this.observers=[],this.camera=n,this.moveRaycaster=new u["O"],this.highlightOutlinePass=a,this.initEvent()}return Object(c["a"])(e,[{key:"addObservers",value:function(e){var t;(t=this.observers).push.apply(t,Object(d["a"])(e))}},{key:"getObserverGroup",value:function(e){var t=this,n=e.x,a=e.y;return this.observers.reduce((function(e,o){var r=j({camera:t.camera,raycasterInstance:t.moveRaycaster},{x:n,y:a},o.getMousemoveObserveObjects());return r?{active:[].concat(Object(d["a"])(e.active),[{activeMesh:r,observer:o}]),inactive:e.inactive}:{active:e.active,inactive:[].concat(Object(d["a"])(e.inactive),[{observer:o}])}}),{active:[],inactive:[]})}},{key:"initEvent",value:function(){var e=this;document.addEventListener("mousemove",(function(t){var n=v(t.clientX),a=f(t.clientY);requestAnimationFrame((function(){e.highlightOutlinePass.selectedObjects=[];var t=e.getObserverGroup({x:n,y:a});t.inactive.forEach((function(t){var n=t.observer;n.beforeMousemove&&n.beforeMousemove({highlightOutlinePass:e.highlightOutlinePass})})),t.active.forEach((function(t){var n=t.observer,a=t.activeMesh;n.beforeMousemove&&n.beforeMousemove({highlightOutlinePass:e.highlightOutlinePass}),n.onMousemove&&n.onMousemove({highlightOutlinePass:e.highlightOutlinePass},a)}))}))}))}}]),e}(),g=function(){function e(t){var n=t.camera,a=t.highlightOutlinePass,o=t.controls;Object(i["a"])(this,e),Object(s["a"])(this,"observers",void 0),Object(s["a"])(this,"camera",void 0),Object(s["a"])(this,"controls",void 0),Object(s["a"])(this,"highlightOutlinePass",void 0),Object(s["a"])(this,"clickRaycaster",void 0),this.observers=[],this.camera=n,this.controls=o,this.clickRaycaster=new u["O"],this.highlightOutlinePass=a,this.initEvent()}return Object(c["a"])(e,[{key:"addObservers",value:function(e){var t;(t=this.observers).push.apply(t,Object(d["a"])(e))}},{key:"getObserverGroup",value:function(e){var t=this,n=e.x,a=e.y;return this.observers.reduce((function(e,o){var r=j({camera:t.camera,raycasterInstance:t.clickRaycaster},{x:n,y:a},o.getClickObserveObjects());return r?{active:[].concat(Object(d["a"])(e.active),[{activeMesh:r,observer:o}]),inactive:e.inactive}:{active:e.active,inactive:[].concat(Object(d["a"])(e.inactive),[{observer:o}])}}),{active:[],inactive:[]})}},{key:"initEvent",value:function(){var e=this;document.addEventListener("click",(function(t){var n=v(t.clientX),a=f(t.clientY),o=e.getObserverGroup({x:n,y:a});o.inactive.forEach((function(e){var t=e.observer;t.beforeClick&&t.beforeClick()})),o.active.forEach((function(t){var n=t.observer,a=t.activeMesh;n.beforeClick&&n.beforeClick(),n.onClick&&n.onClick({highlightOutlinePass:e.highlightOutlinePass,controls:e.controls,camera:e.camera},a)}))}))}}]),e}(),y=new u["k"],k=n("257e"),w=n("262e"),M=n("2caf"),z=(n("b0c0"),n("e642")),P=(n("277d"),function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"baseWidth",void 0),Object(s["a"])(Object(k["a"])(e),"baseHeight",void 0),Object(s["a"])(Object(k["a"])(e),"baseDepth",void 0),Object(s["a"])(Object(k["a"])(e),"host",void 0),Object(s["a"])(Object(k["a"])(e),"hostMaterial",void 0),e.baseHeight=18,e.baseDepth=6,e.baseWidth=18,e.host=e.createHost(),e.hostMaterial=e.host.material,e.add(e.host),e}return Object(c["a"])(n,[{key:"active",value:function(){this.host.material=new u["E"]({color:4235007})}},{key:"silence",value:function(){this.host.material=this.hostMaterial}},{key:"createHostGeometry",value:function(){return new u["e"](this.baseWidth,this.baseHeight,this.baseDepth)}},{key:"createHostMaterial",value:function(){return new u["D"]({color:"#282c34"})}},{key:"createHost",value:function(){return new u["A"](this.createHostGeometry(),this.createHostMaterial())}}]),n}(u["p"])),x=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),e.userData.clazzName=n.clazzName,e}return n}(P);Object(s["a"])(x,"clazzName","HWHost");var C=n("4086"),T=function(e){var t="/odc-monitor";return"".concat(t).concat(e)},S=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"logo",void 0),e.userData.clazzName=n.clazzName,e.logo=e.createLogo(),e.add(e.logo),e}return Object(c["a"])(n,[{key:"createHostMaterial",value:function(){return new u["D"]({})}},{key:"createLogo",value:function(){if(!n.resource.logoObject3D)throw new Error("No Resource");var e=n.resource.logoObject3D.clone();return e.position.x=this.host.position.x-this.baseWidth/2,e.position.z=this.host.position.z,e.position.y=this.baseHeight/8,e.rotation.y=-Math.PI/2,e.scale.set(.04,.04,.04),e}}],[{key:"loadResource",value:function(){return new Promise((function(e){(new C["a"]).load(T("/3d-model/apple-logo/apple-logo.mtl"),(function(t){var a=new z["a"];a.setMaterials(t),a.load(T("/3d-model/apple-logo/apple-logo.obj"),(function(t){n.resource.logoObject3D=t,e({logoObject3D:t})}))}))}))}}]),n}(P);Object(s["a"])(S,"clazzName","AppleHost"),Object(s["a"])(S,"resource",{logoObject3D:void 0});var D=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"monitor",void 0),Object(s["a"])(Object(k["a"])(e),"screenMaterial",void 0),Object(s["a"])(Object(k["a"])(e),"createMonitor",(function(){if(!n.resource.monitorObject3D)throw new Error("You have not loadResource");var e=n.resource.monitorObject3D.clone();return e.userData.external=!0,e})),e.monitor=e.createMonitor(),e.userData.clazzName=n.clazzName,e.screenMaterial=e.monitor.getObjectByName("Screen").material,e.add(e.monitor),e}return Object(c["a"])(n,[{key:"active",value:function(){var e=new u["Y"],t=e.load(T("/texture/screen.png")),n=this.monitor.getObjectByName("Screen");n instanceof u["A"]&&(n.material=new u["E"]({map:t}))}},{key:"silence",value:function(){var e=this.monitor.getObjectByName("Screen");e instanceof u["A"]&&(e.material=this.screenMaterial)}}],[{key:"loadResource",value:function(e){return new Promise((function(t){new C["a"](e).load(T("/3d-model/monitor/monitor.mtl"),(function(a){var o=new z["a"](e);o.setMaterials(a),o.load(T("/3d-model/monitor/monitor.obj"),(function(e){return n.resource.monitorObject3D=e,t({monitorObject3D:e})}))}))}))}}]),n}(u["p"]);Object(s["a"])(D,"clazzName","monitor"),Object(s["a"])(D,"resource",{monitorObject3D:void 0});n("1276"),n("cb29");var E=function(e,t){t||(t={});var n=t.hasOwnProperty("fontFace")?t["fontFace"]:"Arial",a=t.hasOwnProperty("fontSize")?t["fontSize"]:18,o=t.hasOwnProperty("fontColor")?t["fontColor"]:"rgba(0, 0, 0, 1)",r=!!t.hasOwnProperty("fontBold")&&t["fontBold"],i=!!t.hasOwnProperty("fontItalic")&&t["fontItalic"],c=t.hasOwnProperty("textAlign")?t["textAlign"]:"left",s=t.hasOwnProperty("borderThickness")?t["borderThickness"]:4,l=t.hasOwnProperty("borderColor")?t["borderColor"]:"rgba(0, 0, 0, 1)",b=t.hasOwnProperty("borderRadius")?t["borderRadius"]:0,d=t.hasOwnProperty("backgroundColor")?t["backgroundColor"]:"rgba(255, 255, 255, 1)",h=document.createElement("canvas").getContext("2d");h.font=(r?"Bold ":"")+(i?"Italic ":"")+a+"px "+n;var v=e.split("\n"),f=0;v.forEach((function(e){var t=h.measureText(e);f=t.width>f?t.width:f}));var p=1.4*a*v.length,O=document.createElement("canvas");O.width=M(f),O.height=M(p);var j=O.getContext("2d");j.font=h.font,j.fillStyle=d,j.strokeStyle=l,j.lineWidth=s,z(j,s/2,s/2,f+s,p+s,b),j.fillStyle=o,j.textAlign=c;var m={left:s,start:s,center:f/2+s,right:f+s,end:f+s},g=a+s;v.forEach((function(e){j.fillText(e,m[c],g),g+=1.4*a}));var y=new u["X"](O);y.needsUpdate=!0;var k=new u["V"]({map:y,transparent:!0}),w=new u["U"](k);return w.scale.set(O.width/2,O.height/2,1),w;function M(e){var t=0;while(e>Math.pow(2,t))t++;return Math.pow(2,t)}function z(e,t,n,a,o,r){e.beginPath(),e.moveTo(t+r,n),e.lineTo(t+a-r,n),e.quadraticCurveTo(t+a,n,t+a,n+r),e.lineTo(t+a,n+o-r),e.quadraticCurveTo(t+a,n+o,t+a-r,n+o),e.lineTo(t+r,n+o),e.quadraticCurveTo(t,n+o,t,n+o-r),e.lineTo(t,n+r),e.quadraticCurveTo(t,n,t+r,n),e.closePath(),e.fill(),e.stroke()}},A=n("b85c"),R=function(e){var t=new u["d"],n=new u["bb"];return t.setFromObject(e),t.getSize(n)},N=function(e,t){var n=e.scale,a=n.x,o=n.y,r=n.z;e.scale.set(a*t,o*t,r*t)},I=function e(t){var n;return t.parent?null!==(n=t.parent)&&void 0!==n&&n.userData.clazzName?t.parent:e(t.parent):void 0},H=function e(t,n){return t.parent?t.parent.userData&&t.parent.userData.clazzName===n?t.parent:e(t.parent,n):void 0},_=function(e,t){var n=[],a=function e(a){var o;(null===(o=a.userData)||void 0===o?void 0:o.clazzName)===t?n.push(a):a.children&&a.children.forEach((function(t){return e(t)}))};return a(e),n},W=function e(t,n,a){var o,r;if((null===(o=t.userData)||void 0===o?void 0:o.clazzName)===n&&(null===(r=t.userData)||void 0===r?void 0:r.id)===a)return t;if(t.children){var i,c=Object(A["a"])(t.children);try{for(c.s();!(i=c.n()).done;){var s=i.value,u=e(s,n,a);if(u)return u}}catch(l){c.e(l)}finally{c.f()}}},L=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a){var o,r,c;Object(i["a"])(this,n),c=t.call(this),Object(s["a"])(Object(k["a"])(c),"monitors",void 0),Object(s["a"])(Object(k["a"])(c),"monitorTips",void 0),Object(s["a"])(Object(k["a"])(c),"pc",void 0),Object(s["a"])(Object(k["a"])(c),"pcTip",void 0),Object(s["a"])(Object(k["a"])(c),"macMini",void 0),Object(s["a"])(Object(k["a"])(c),"macMiniTip",void 0),c.monitors=[],c.monitorTips=[],c.userData.clazzName=n.clazzName;var u=c.createMonitor(e,a),l=u.monitors,b=u.monitorTips;(o=c.monitors).push.apply(o,Object(d["a"])(l)),(r=c.monitorTips).push.apply(r,Object(d["a"])(b));var h=c.createMacMini(e,a),v=h.macMini,f=h.macMiniTip,p=c.createPC(e,a),O=p.pc,j=p.pcTip;return c.pc=O,c.pcTip=j,c.macMini=v,c.macMiniTip=f,c.add(c.pc),c.add(c.pcTip),c.add(c.macMini),c.add(c.macMiniTip),c.monitors.forEach((function(e){return c.add(e)})),c.monitorTips.forEach((function(e){return c.add(e)})),c}return Object(c["a"])(n,[{key:"active",value:function(e){var t=I(e),n=null===t||void 0===t?void 0:t.userData.clazzName;if(n===D.clazzName){t.active();var a=null===t||void 0===t?void 0:t.userData.index;this.monitorTips[a].material.visible=!0}n===S.clazzName&&(this.macMiniTip.material.visible=!0,this.macMini.active()),n===x.clazzName&&(this.pcTip.material.visible=!0,this.pc.active())}},{key:"silence",value:function(){this.pc.silence(),this.macMini.silence(),this.monitors.forEach((function(e){e.silence()})),this.pcTip.material.visible=!1,this.macMiniTip.material.visible=!1,this.monitorTips.forEach((function(e){e.material.visible=!1}))}},{key:"createMonitor",value:function(e,t){var n=[],a=[],o=new D;if(!Array.isArray(t.monitor))return{monitors:[],monitorTips:[]};for(var r=0;r<t.monitor.length;r++){var i=o.clone();i.rotation.y=-Math.PI,i.position.z=40*r,i.name="".concat(e,"_monitor_").concat(r),i.userData.highlight=!0,i.userData.type="monitor.".concat(r),i.userData.index=r,i.userData.data=t;var c=this.createTextSprite(t.monitor[r]),s=R(i),u=s.y,l=s.z;c.position.y=u+3,c.position.z=i.position.z+l/2,c.material.visible=!1,n.push(i),a.push(c)}return{monitors:n,monitorTips:a}}},{key:"createPC",value:function(e,t){var n=new x,a=R(n),o=a.y,r=a.z;n.position.z=-r-1,n.position.y=o/2,n.name="".concat(e,"_pc"),n.userData.highlight=!0,n.userData.type="pc",n.userData.data=t;var i=this.createTextSprite(t.pc);return i.position.y=o+3,i.position.z=n.position.z,i.material.visible=!1,{pc:n,pcTip:i}}},{key:"createMacMini",value:function(e,t){var n=new S,a=R(n),o=a.y,r=R(this.monitors[0]),i=r.z;n.position.z=2*i+1,n.position.y=o/2,n.name="".concat(e,"_macMini"),n.userData.highlight=!0,n.userData.type="macMini",n.userData.data=t;var c=this.createTextSprite(t.macMini),s=R(c),u=s.x;return c.position.y=o+3,c.position.z=n.position.z+u/3,c.material.visible=!1,{macMini:n,macMiniTip:c}}},{key:"createTextSprite",value:function(e){var t=E(e||"",{fontFace:"Helvetica",fontSize:36,fontColor:"rgba(255, 255, 255, 1)",fontBold:!1,fontItalic:!1,textAlign:"center",borderThickness:3,borderColor:"rgba(50, 50, 255, 0.8)",borderRadius:6,backgroundColor:"rgba(0, 0, 0, 0.8)"});return N(t,.1),t}}]),n}(u["p"]);Object(s["a"])(L,"clazzName","desktop");var q=function(e,t,n){var a=e.camera,o=e.controls,r=t.cameraPosition,i=t.orbitTargetPosition,c=n.cameraPosition,s=n.orbitTargetPosition,u=new l["b"]({x1:r.x,y1:r.y,z1:r.z,x2:i.x,y2:i.y,z2:i.z});u.onStart((function(){o.enabled=!1})),u.to({x1:c.x,y1:c.y,z1:c.z,x2:s.x,y2:s.y,z2:s.z},2e3),u.onUpdate((function(e){a.position.x=e.x1,a.position.y=e.y1,a.position.z=e.z1,o.target.x=e.x2,o.target.y=e.y2,o.target.z=e.z2,o.update()})),u.onComplete((function(){o.enabled=!0})),u.easing(l["a"].Cubic.InOut),u.start()},G=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e){var a;return Object(i["a"])(this,n),a=t.call(this),Object(s["a"])(Object(k["a"])(a),"looAtPosition",void 0),Object(s["a"])(Object(k["a"])(a),"keyPoint",void 0),a.looAtPosition=new u["bb"](0,0,0),a.keyPoint=new u["A"](a.createGeometry(e),a.createMaterial()),a.keyPoint.userData.type="keypoint",a.userData.clazzName=n.clazzName,a.add(a.keyPoint),a}return Object(c["a"])(n,[{key:"beforeClick",value:function(){}},{key:"onClick",value:function(e,t){e.highlightOutlinePass;var n=e.camera,a=e.controls;"keypoint"===t.userData.type&&this.observationArea({camera:n,controls:a},t)}},{key:"getClickObserveObjects",value:function(){return this.children}},{key:"setLookAt",value:function(e){this.looAtPosition=e}},{key:"createMaterial",value:function(){var e=new u["Y"],t=e.load(T("/texture/key-point.png"));return new u["B"]({map:t,transparent:!0,side:u["j"]})}},{key:"createGeometry",value:function(e){var t=new u["I"](e,e);return t.rotateX(Math.PI/2),t}},{key:"observationArea",value:function(e,t){var n=e.camera,a=e.controls,o=t.getWorldPosition(new u["bb"]),r=o.x,i=o.y,c=o.z,s=new u["bb"](r,i,c);q({camera:n,controls:a},{cameraPosition:n.position,orbitTargetPosition:a.target},{cameraPosition:s,orbitTargetPosition:this.looAtPosition})}}]),n}(u["p"]);Object(s["a"])(G,"clazzName","keyPoint");var B=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e){var a;Object(i["a"])(this,n);var o=e||{};return a=t.call(this),Object(s["a"])(Object(k["a"])(a),"table",void 0),Object(s["a"])(Object(k["a"])(a),"keyPoint",void 0),Object(s["a"])(Object(k["a"])(a),"desktop",void 0),Object(s["a"])(Object(k["a"])(a),"light",void 0),a.table=a.createTable(),a.keyPoint=a.createKeyPoint(),a.desktop=a.createDeskTop(o),a.light=a.createLight(),a.userData.clazzName=n.clazzName,a.userData.id="".concat(e.code),a.add(a.table),a.add(a.keyPoint),a.add(a.desktop),a.add(a.light),new Promise((function(e){return e(!0)})).then((function(){a.locationKeyPoint()})),a}return Object(c["a"])(n,[{key:"lightOff",value:function(){this.light.visible=!1}},{key:"lightOn",value:function(){this.light.visible=!0}},{key:"locationKeyPoint",value:function(){var e=this.getWorldPosition(new u["bb"]),t=e.y,n=this.desktop.getWorldPosition(new u["bb"]),a=n.x,o=this.keyPoint.getWorldPosition(new u["bb"]),r=o.x,i=o.z,c=new u["bb"](a>r?r+100:r-100,t+16,i);this.keyPoint.setLookAt(c)}},{key:"createLight",value:function(){var e=new u["T"]("rgb(245,108,108)",2,180),t=this.table.position,n=t.x,a=t.y,o=t.z;return e.position.set(n+2,a+20,o),e.target=this.table,e.decay=2,e.visible=!1,e}},{key:"createKeyPoint",value:function(){var e=new G(16),t=R(this.table),n=t.x;return e.position.y=10,e.position.x=-n-6,y.dispatchEvent({type:"addClickObserver",message:[e]}),e}},{key:"createDeskTop",value:function(e){var t="desktop_".concat(e.rowCode),n=new L(t,e);n.name=t,n.scale.set(.25,.25,.25);var a=R(this.table),o=a.z,r=a.y;return n.position.y=r,n.position.z=this.table.position.z-o/4,n}},{key:"createTable",value:function(){if(!n.resource.tableObject3D)throw new Error("No Resource");var e=n.resource.tableObject3D.clone(),t=.25;return e.rotation.x=-Math.PI/2,e.rotation.z=Math.PI/2,e.scale.set(t,t,t),e}}],[{key:"loadResource",value:function(e){return new Promise((function(t){var a=new z["a"](e);a.load(T("/3d-model/table/table.obj"),(function(e){n.resource.tableObject3D=e,t({tableObject3D:e})}))}))}}]),n}(u["p"]);Object(s["a"])(B,"clazzName","seat"),Object(s["a"])(B,"resource",{tableObject3D:void 0});var K=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e){var a,o=e.x,r=e.z;return Object(i["a"])(this,n),a=t.call(this),Object(s["a"])(Object(k["a"])(a),"coffeeTable",void 0),a.coffeeTable=a.createCoffeeTable(),a.add(a.coffeeTable),a.position.z=r,a.position.x=o,a}return Object(c["a"])(n,[{key:"createCoffeeTable",value:function(){if(!n.resource.coffeeTableObject3D)throw new Error("No Resource");var e=n.resource.coffeeTableObject3D.clone(),t=.5;return e.scale.set(t,t,t),e}}],[{key:"loadResource",value:function(e){return new Promise((function(t){var a=new z["a"](e);a.load(T("/3d-model/coffee-table/coffee-table.obj"),(function(e){var a=.5;e.scale.set(a,a,a),n.resource.coffeeTableObject3D=e,t({coffeeTableObject3D:e})}))}))}}]),n}(u["p"]);Object(s["a"])(K,"resource",{coffeeTableObject3D:void 0});var F=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o){var r,c=o.x,u=o.z;return Object(i["a"])(this,n),r=t.call(this),Object(s["a"])(Object(k["a"])(r),"sofa",void 0),r.position.z=u,r.position.x=c,r.sofa=r.createSofa(e,a),r.add(r.sofa),r}return Object(c["a"])(n,[{key:"createSofa",value:function(e,t){var a;if(null===(a=n.resource)||void 0===a||!a.sofaObject3D)throw new Error("No Resource");var o=n.resource.sofaObject3D.clone(),r=50;o.scale.set(116,r,r),o.rotation.x=-Math.PI/2;var i=Object(h["a"])(e,2),c=i[0],s=i[1],u=Object(h["a"])(t,2),l=u[0],b=u[1];return o.rotation.z=Math.atan2(b-s,l-c)+Math.PI/2,o.translateY(-15),o.children[0].material.color.set(4620980),o}}],[{key:"loadResource",value:function(e){return new Promise((function(t){var a=new z["a"](e);a.load(T("/3d-model/couch/couch.obj"),(function(e){n.resource.sofaObject3D=e,t({sofaObject3D:e})}))}))}}]),n}(u["p"]);Object(s["a"])(F,"resource",{sofaObject3D:void 0});var U=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"kitchen",void 0),e.kitchen=e.createKitchen(),e.add(e.kitchen),e}return Object(c["a"])(n,[{key:"createKitchen",value:function(){if(!n.resource.kitchenObject3D)throw new Error("No Resource");var e=n.resource.kitchenObject3D.clone(),t=.8;return e.scale.set(t,t,t),e.children[0].material.color.set(14596231),e}}],[{key:"loadResource",value:function(e){return new Promise((function(t){var a=new z["a"](e);a.load(T("/3d-model/kitchen/kitchen.obj"),(function(e){n.resource.kitchenObject3D=e,t({kitchenObject3D:e})}))}))}}]),n}(u["p"]);Object(s["a"])(U,"resource",{kitchenObject3D:void 0});var Q,Y=2800,X=100,J={begin:[0,0],end:[25200,71200]},V=[{type:"external",begin:[0,0],end:[0,71200]},{type:"external",begin:[25200,0],end:[25200,71200]},{type:"external",begin:[0,0],end:[25200,0]},{type:"external",begin:[0,71200],end:[25200,71200]},{type:"glass",begin:[8400,0],end:[8400,8400]},{type:"inner",begin:[0,8400],end:[8400,8400]},{type:"inner",begin:[8400,8400],end:[8400,12600]},{type:"inner",begin:[8400,12600],end:[14400,16800]},{type:"inner",begin:[16800,0],end:[16800,8400]},{type:"inner",begin:[16800,8400],end:[25200,8400]},{type:"inner",begin:[16800,19200],end:[16800,26800]},{type:"glass",begin:[16800,16800],end:[16800,19200]},{type:"glass",begin:[16800,19200],end:[25200,19200]},{type:"inner",begin:[16800,26800],end:[25200,26800]},{type:"inner",begin:[14400,16800],end:[14400,36e3]},{type:"inner",begin:[14400,36e3],end:[8400,42e3]},{type:"inner",begin:[8400,45600],end:[8400,49200]},{type:"glass",begin:[16800,49200],end:[16800,64800]},{type:"inner",begin:[10800,49200],end:[10800,64800]},{type:"glass",begin:[10800,49200],end:[16800,49200]},{type:"inner",begin:[10800,64800],end:[16800,64800]},{type:"inner",begin:[0,49200],end:[8400,49200]},{type:"glass",begin:[14400,68e3],end:[25200,66e3]}],$={begin:[8400,59200],end:[8400,66400]},Z={begin:[8400,12600],end:[14400,16800]},ee={begin:[8400,20400],end:[14400,25200]},te=1200;(function(e){e["north"]="north",e["south"]="south"})(Q||(Q={}));var ne={begin:[120,8400],end:[8400-te,48e3]},ae={begin:[16800+te,26800],end:[25200,66e3]},oe=function(e,t){for(var n=[],a=t===Q.north?"2900":"2800",o=t===Q.north?"n":"s",r=["a","b","c","d","e","f","g","h","i","j","k","l","m"],i=0;i<e;i++){for(var c=[],s=0;s<10;s++)c.push({code:"".concat(o).concat(r[i]).concat(s),rowCode:"".concat(o).concat(r[i]),monitor:["".concat(a,"6").concat(i).concat(s).concat(s),"".concat(a,"6").concat(i+1).concat(s+1).concat(s+1)],macMini:"".concat(a,"3").concat(i).concat(s).concat(s),pc:"".concat(a,"2").concat(i).concat(s).concat(s)});n.push(c)}return n},re=oe(10,Q.north),ie=oe(9,Q.south),ce={totalSeat:190,useSeat:80},se=[{code:"E-commerce Frontend",seats:["sa1","sa5","sb9"]},{code:"Car Network",seats:["sc1","sc2","sc3","sc4","sc5","sc6","sc7","sc8","sc9","sd6"]},{code:"Low Code",seats:["se1","se2","se3","se4","se5","se6","se7"]},{code:"E-commerce Backend",seats:["sf1","sf2","sf3","sf4","sf5","sf6","sf7"]},{code:"Express",seats:["sg1","sg2","sg3","sg4","sg5","sg6","sg7"]},{code:"IT Security",seats:["sj1","sj5","sj9"]}],ue=[{begin:[-3500,0],end:[25200,-3500],type:"hight"},{begin:[0,73700],end:[25200,73700],type:"hight"},{begin:[13800,49200],end:[13800,64800]},{begin:[4200,49200],end:[4200,71200]}],le=(n("38cf"),function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a){var o;Object(i["a"])(this,n),o=t.call(this);var r=new u["A"](o.initGeometry(e,a),o.initMaterial()),c=o.calculatePosition(e,a),s=Object(h["a"])(c,3),l=s[0],b=s[1],d=s[2];return r.position.set(l,b,d),o.add(r),o}return Object(c["a"])(n,[{key:"initMaterial",value:function(){var e=new u["Y"],t=e.load(T("/texture/floor.jpeg"));return t.wrapS=u["P"],t.wrapT=u["P"],t.repeat.set(2,1),new u["D"]({color:"#5e98c6"})}},{key:"initGeometry",value:function(e,t){var n=Object(h["a"])(e,2),a=n[0],o=n[1],r=Object(h["a"])(t,2),i=r[0],c=r[1],s=i-a,l=c-o;return new u["e"](l,2,s)}},{key:"calculatePosition",value:function(e,t){var n=Object(h["a"])(e,2),a=n[0],o=n[1],r=Object(h["a"])(t,2),i=r[0],c=r[1],s=i-a,u=c-o;return[u/2,0,s/2]}}]),n}(u["p"])),be=n("8468"),de=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o,r){var c;Object(be["a"])(e);var u=a.xLength,l=a.zLength;Object(i["a"])(this,n),c=t.call(this),Object(s["a"])(Object(k["a"])(c),"activeDesktop",void 0);var b=c.createWorkstation({xLength:u,zLength:l},o,r);return c.add(b),c}return Object(c["a"])(n,[{key:"beforeMousemove",value:function(){}},{key:"onMousemove",value:function(e,t){var n,a=e.highlightOutlinePass;null!==t&&void 0!==t&&null!==(n=t.parent)&&void 0!==n&&n.userData.highlight&&(a.selectedObjects=[null===t||void 0===t?void 0:t.parent])}},{key:"beforeClick",value:function(){this.activeDesktop&&(this.activeDesktop.silence(),this.activeDesktop=void 0)}},{key:"onClick",value:function(e,t){e.highlightOutlinePass;var n=I(t);if(null!==n&&void 0!==n&&n.userData.highlight){var a=H(t,L.clazzName);a&&(a.active(t),this.activeDesktop=a)}}},{key:"getMousemoveObserveObjects",value:function(){var e=[];return this.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){e.push(t)}))}))})),e}},{key:"getClickObserveObjects",value:function(){var e=[];return this.children.forEach((function(t){t.children.forEach((function(t){t.children.forEach((function(t){e.push(t)}))}))})),e}},{key:"createWorkstation",value:function(e,t,n){var a=this,o=e.xLength,r=e.zLength,i=o/t.length,c=r/2,s=new u["p"];return t.forEach((function(e,t){var o=a.createSeatGroup(e);o.name="".concat(n,"_seatRow_").concat(t),o.position.z=c,o.position.x=i*t,s.add(o)})),s.position.x=-o/2+60,s.position.z=-c-66,s}},{key:"createSeatGroup",value:function(e){for(var t=new u["p"],n=e.length,a=n/2,o=new B(e[0]),r=R(o.table),i=r.x,c=r.z,s=0;s<a;s++){var l=new B(e[s]),b=new B(e[n-s-1]),d=c*s;b.position.z=d,b.position.x=0,l.position.z=d,l.rotation.y=-Math.PI,l.position.x=i,t.add(b),t.add(l)}return t}}]),n}(u["p"]),he=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o,r){var c;Object(i["a"])(this,n),c=t.call(this);var s=new u["A"](c.initGeometry(e,a,o,r),c.initMaterial()),l=c.calculatePosition(e,a,o),b=Object(h["a"])(l,3),d=b[0],v=b[1],f=b[2];return s.position.set(d,v,f),s.rotation.y=c.calculateRotation(e,a),c.add(s),c}return Object(c["a"])(n,[{key:"initMaterial",value:function(){return new u["D"]({color:"#67C23A"})}},{key:"initGeometry",value:function(e,t,n,a){var o=Object(h["a"])(e,2),r=o[0],i=o[1],c=Object(h["a"])(t,2),s=c[0],l=c[1],b=s-r,d=l-i,v=Math.sqrt(Math.pow(b,2)+Math.pow(d,2));return new u["e"](a,n,v)}},{key:"calculatePosition",value:function(e,t,n){var a=Object(h["a"])(e,2),o=a[0],r=a[1],i=Object(h["a"])(t,2),c=i[0],s=i[1];return[(s+r)/2,n/2,(c+o)/2]}},{key:"calculateRotation",value:function(e,t){var n=Object(h["a"])(e,2),a=n[0],o=n[1],r=Object(h["a"])(t,2),i=r[0],c=r[1];return Math.atan2(c-o,i-a)}}]),n}(u["p"]),ve=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o,r){return Object(i["a"])(this,n),t.call(this,e,a,o,r)}return Object(c["a"])(n,[{key:"initMaterial",value:function(){return new u["D"]({color:"#2f6186",transparent:!0,opacity:1})}}]),n}(he),fe=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o,r){return Object(i["a"])(this,n),t.call(this,e,a,o,r)}return Object(c["a"])(n,[{key:"initMaterial",value:function(){return new u["B"]({color:15528435,transparent:!0,opacity:.4})}}]),n}(he),pe=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o,r){return Object(i["a"])(this,n),t.call(this,e,a,o,r)}return Object(c["a"])(n,[{key:"initMaterial",value:function(){return new u["D"]({})}}]),n}(he),Oe=[{begin:[14400,32800],end:[2e4,35200],observedSeatRowIndex:1},{begin:[14400,46e3],end:[2e4,48400],observedSeatRowIndex:4},{begin:[14400,59200],end:[2e4,61600],observedSeatRowIndex:7}],je=[{begin:[7600,14200],end:[7600,16600],observedSeatRowIndex:1},{begin:[7600,26800],end:[7600,27800],observedSeatRowIndex:4},{begin:[7600,38800],end:[7600,39400],observedSeatRowIndex:7},{begin:[7600,44600],end:[7600,46200],observedSeatRowIndex:9}],me=(n("7db0"),function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(e,a,o){var r,c=a.x,u=a.y,l=a.z,b=o.areaType,d=o.observedSeatRowIndex;return Object(i["a"])(this,n),r=t.call(this),Object(s["a"])(Object(k["a"])(r),"areaType",void 0),Object(s["a"])(Object(k["a"])(r),"observedSeatRowIndex",void 0),r.position.z=l,r.position.x=c,r.position.y=u,r.areaType=b,r.observedSeatRowIndex=d,r.add(r.initCameraMonitor(e)),r.add(r.initLine()),r}return Object(c["a"])(n,[{key:"beforeClick",value:function(){}},{key:"onClick",value:function(e,t){e.highlightOutlinePass;var n=e.camera,a=e.controls;"cameraMonitor"===t.userData.type&&this.observationArea({camera:n,controls:a})}},{key:"getClickObserveObjects",value:function(){return this.children}},{key:"observationArea",value:function(e){var t=this,n=e.camera,a=e.controls,o=this.getWorldPosition(new u["bb"]),r=o.x,i=o.y,c=o.z,s=this.areaType===Q.north?new u["bb"](r-10,i+120,c+60):new u["bb"](r,i+80,c-80),l=this.parent.children.find((function(e){return e.name.includes(t.areaType)})),b=l.children[0].children[this.observedSeatRowIndex].getWorldPosition(new u["bb"]),d=new u["bb"](b.x,b.y,b.z+100);q({camera:n,controls:a},{cameraPosition:n.position,orbitTargetPosition:a.target},{cameraPosition:s,orbitTargetPosition:d})}},{key:"setColor",value:function(e){this.children[0].material.color.set(e)}},{key:"setScale",value:function(e){this.children[0].scale.set(e,e,e)}},{key:"initCameraMonitor",value:function(e){var t=new u["V"]({map:e}),n=new u["U"](t),a=30;return n.scale.set(a,a,a),n.userData.type="cameraMonitor",n}},{key:"initLine",value:function(){var e=[new u["bb"](0,-80,0),new u["bb"](0,0,0)],t=(new u["f"]).setFromPoints(e);t.setAttribute("color",new u["m"]([new u["h"](0).r,new u["h"](0).g,new u["h"](0).b,new u["h"](16777215).r,new u["h"](16777215).g,new u["h"](16777215).b],3));var n=new u["r"]({vertexColors:!0});return new u["q"](t,n)}}]),n}(u["p"])),ge=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"kitchen",void 0),Object(s["a"])(Object(k["a"])(e),"northSofa",void 0),Object(s["a"])(Object(k["a"])(e),"coffeeTable",void 0),Object(s["a"])(Object(k["a"])(e),"floor",void 0),Object(s["a"])(Object(k["a"])(e),"walls",void 0),Object(s["a"])(Object(k["a"])(e),"northWorkstation",void 0),Object(s["a"])(Object(k["a"])(e),"southWorkstation",void 0),Object(s["a"])(Object(k["a"])(e),"keyPoints",void 0),Object(s["a"])(Object(k["a"])(e),"southCameraMonitors",void 0),Object(s["a"])(Object(k["a"])(e),"northCameraMonitors",void 0),Object(s["a"])(Object(k["a"])(e),"renderKitchen",(function(){var e=$.begin,t=$.end,n=O(e,t),a=n.x,o=n.z,r=new U;return r.position.z=o,r.position.x=a,r})),Object(s["a"])(Object(k["a"])(e),"renderNorthSofa",(function(){var e=Z.begin,t=Z.end,n=O(e,t),a=n.x,o=n.z;return new F(e,t,{x:a,z:o})})),Object(s["a"])(Object(k["a"])(e),"renderCoffeeTable",(function(){var e=ee.begin,t=ee.end,n=O(e,t),a=n.x,o=n.z;return new K({x:a,z:o})})),e.kitchen=e.renderKitchen(),e.northSofa=e.renderNorthSofa(),e.coffeeTable=e.renderCoffeeTable(),e.floor=e.renderFloor(),e.keyPoints=e.renderKeyPoints(),e.walls=e.renderWall(),e.southCameraMonitors=e.renderCameraMonitor(Q.south),e.northCameraMonitors=e.renderCameraMonitor(Q.north),e.northWorkstation=e.renderStation(ne,re,Q.north),e.southWorkstation=e.renderStation(ae,ie,Q.south),e.add(e.kitchen),e.add(e.northSofa),e.add(e.coffeeTable),e.add(e.floor),e.add(e.northWorkstation),e.add(e.southWorkstation),e.keyPoints.forEach((function(t){return e.add(t)})),e.walls.forEach((function(t){return e.add(t)})),e.southCameraMonitors.forEach((function(t){return e.add(t)})),e.northCameraMonitors.forEach((function(t){return e.add(t)})),e.addObserver(),e}return Object(c["a"])(n,[{key:"getMonitors",value:function(){return{south:this.southCameraMonitors,north:this.northCameraMonitors}}},{key:"addObserver",value:function(){y.dispatchEvent({type:"addClickObserver",message:[this.northWorkstation]}),y.dispatchEvent({type:"addClickObserver",message:[this.southWorkstation]}),y.dispatchEvent({type:"addClickObserver",message:this.keyPoints}),y.dispatchEvent({type:"addClickObserver",message:this.northCameraMonitors}),y.dispatchEvent({type:"addClickObserver",message:this.southCameraMonitors})}},{key:"renderKeyPoints",value:function(){return ue.map((function(e){var t=e.begin,n=e.end,a=O(t,n),o=a.x,r=a.z,i=new G(20);return i.position.z=r,i.position.y=p(Y),i.position.x=o,i.userData.isNeedLiftCamera="hight"===e.type,i}))}},{key:"renderFloor",value:function(){return new le(J.begin.map((function(e){return p(e)})),J.end.map((function(e){return p(e)})))}},{key:"renderStation",value:function(e,t,n){var a=e.begin,o=e.end,r=O(a,o),i=r.x,c=r.z,s=a.map((function(e){return p(e)})),u=Object(h["a"])(s,2),l=u[0],b=u[1],d=o.map((function(e){return p(e)})),v=Object(h["a"])(d,2),f=v[0],j=v[1],m=new de({},{xLength:j-b,zLength:f-l},t,n);return m.position.x=i,m.position.z=c,m.name="".concat(n,"Workstation"),m}},{key:"renderWall",value:function(){return V.map((function(e){var t=e.type,n=e.begin,a=e.end,o=[n.map((function(e){return p(e)})),a.map((function(e){return p(e)})),p(Y),p(X)],r=o[0],i=o[1],c=o[2],s=o[3];return"external"===t?new ve(r,i,c,s):"glass"===t?new fe(r,i,c,s):new pe(r,i,c,s)}))}},{key:"renderCameraMonitor",value:function(e){var t=(new u["Y"]).load(T("/texture/camera-monitor.png"));return e===Q.south?this.generateCameraMonitor(Oe,t,e):this.generateCameraMonitor(je,t,e)}},{key:"generateCameraMonitor",value:function(e,t,n){return e.map((function(e){var a=e.begin,o=e.end,r=e.observedSeatRowIndex,i=O(a,o),c=i.x,s=i.z;return new me(t,{x:c,y:p(Y),z:s},{areaType:n,observedSeatRowIndex:r})}))}}]),n}(u["p"]),ye=(n("a9e3"),n("32d9")),ke=n("93e9"),we=n("6c18"),Me=n("360d"),ze=n("4e15"),Pe=function(e,t,n){var a=new ye["a"](n);a.addPass(new ke["a"](e,t));var o=new ze["a"](new u["ab"](window.innerWidth,window.innerHeight),e,t);o.edgeStrength=Number(3),o.edgeGlow=Number(0),o.edgeThickness=Number(1),o.pulsePeriod=Number(0),o.usePatternTexture=!1,o.visibleEdgeColor.set("#ffffff"),o.hiddenEdgeColor.set("#190a05"),a.addPass(o);var r=new Me["a"](we["a"]);return r.uniforms["resolution"].value.set(1/window.innerWidth,1/window.innerHeight),a.addPass(r),{composer:a,outlinePass:o}},xe=n("ef20"),Ce=function(e){Object(w["a"])(n,e);var t=Object(M["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),Object(s["a"])(Object(k["a"])(e),"stats",void 0),Object(s["a"])(Object(k["a"])(e),"axesHelper",void 0),Object(s["a"])(Object(k["a"])(e),"gridHelper",void 0),e.axesHelper=e.createAxesHelper(),e.gridHelper=e.createGridHelper(),e.stats=e.createStats(),e.add(e.axesHelper),e.add(e.gridHelper),e}return Object(c["a"])(n,[{key:"createStats",value:function(){var e=new xe["a"];return document.body.append(e.dom),e}},{key:"createAxesHelper",value:function(){var e=new u["c"](200);return e.position.set(0,100,0),e}},{key:"createGridHelper",value:function(){return new u["o"](2e3,50)}}]),n}(u["p"]),Te=function(){return location.search.includes("help=1")},Se=function(e){var t=new u["w"](e);return Promise.all([K.loadResource(t),F.loadResource(t),U.loadResource(t),D.loadResource(t),S.loadResource(),B.loadResource(t)])},De=function(){function e(){Object(i["a"])(this,e),Object(s["a"])(this,"renderer",void 0),Object(s["a"])(this,"camera",void 0),Object(s["a"])(this,"oldCamera",void 0),Object(s["a"])(this,"scene",void 0),Object(s["a"])(this,"highlightComposer",void 0),Object(s["a"])(this,"highlightOutlinePass",void 0),Object(s["a"])(this,"controls",void 0),Object(s["a"])(this,"structure",void 0),Object(s["a"])(this,"baseMonitorTarget",void 0),Object(s["a"])(this,"helper",void 0),this.renderer=this.initRender(),this.camera=this.initCamera(),this.oldCamera=this.initCamera(),this.scene=this.initScene(),this.controls=this.initControls(),this.baseMonitorTarget=this.controls.target.copy(new u["bb"]),Te()&&(this.helper=new Ce,this.scene.add(this.helper)),this.initLight();var t=Pe(this.scene,this.camera,this.renderer),n=t.composer,a=t.outlinePass;this.highlightComposer=n,this.highlightOutlinePass=a,this.initEvent(),this.structure=new ge,this.scene.add(this.structure),this.locationODC(),this.animate()}return Object(c["a"])(e,[{key:"getStructure",value:function(){return this.structure}},{key:"getCamera",value:function(){return this.camera}},{key:"getControls",value:function(){return this.controls}},{key:"refresh",value:function(){q({camera:this.camera,controls:this.controls},{cameraPosition:this.camera.position,orbitTargetPosition:this.controls.target},{cameraPosition:this.oldCamera.position,orbitTargetPosition:this.baseMonitorTarget})}},{key:"lightSeat",value:function(e){var t=this,n=_(this.structure,B.clazzName);n.forEach((function(e){e.lightOff()})),e.forEach((function(e){var n=W(t.structure,B.clazzName,e);n&&n.lightOn()}))}},{key:"initEvent",value:function(){var e=this;window.addEventListener("resize",(function(t){e.camera&&e.renderer&&(e.camera.aspect=window.innerWidth/window.innerHeight,e.camera.updateProjectionMatrix(),e.renderer.setSize(window.innerWidth,window.innerHeight))}));var t=new m({camera:this.camera,highlightOutlinePass:this.highlightOutlinePass});y.addEventListener("addMousemoveObserver",(function(e){var n=e.message;return t.addObservers(n)}));var n=new g({camera:this.camera,highlightOutlinePass:this.highlightOutlinePass,controls:this.controls});y.addEventListener("addClickObserver",(function(e){var t=e.message;return n.addObservers(t)}))}},{key:"initControls",value:function(){var e=new b["a"](this.camera,this.renderer.domElement);return e.maxDistance=1800,e.screenSpacePanning=!1,e.maxPolarAngle=Math.PI/2.06,e}},{key:"initLight",value:function(){var e=new u["b"](6316128,2);this.scene.add(e)}},{key:"initCamera",value:function(){var e=new u["H"](50,window.innerWidth/window.innerHeight,1,6e3);return e.position.set(-712,1e3,-712),e.lookAt(0,0,0),e}},{key:"initScene",value:function(){return new u["Q"]}},{key:"initRender",value:function(){var e=new u["db"]({antialias:!0,alpha:!0});return e.setClearAlpha(.2),e.setPixelRatio(window.devicePixelRatio),e.setSize(window.innerWidth,window.innerHeight),document.body.append(e.domElement),e}},{key:"animate",value:function(){var e;(requestAnimationFrame(this.animate.bind(this)),l["c"](),this.highlightComposer.render(),Te())&&(null===(e=this.helper)||void 0===e||e.stats.update())}},{key:"locationODC",value:function(){var e=new u["d"];e.expandByObject(this.structure);var t=new u["bb"];e.getCenter(t),this.structure.position.x=this.structure.position.x-t.x,this.structure.position.z=this.structure.position.z-t.z}}]),e}();Object(a["K"])("data-v-c257aee6");var Ee={class:"group-container"},Ae={class:"group-item"},Re={class:"group-base-info"},Ne={class:"group-name"},Ie={class:"people-count"},He={class:"group-seat"};function _e(e,t,n,o,r,i){var c=Object(a["Q"])("el-tag"),s=Object(a["Q"])("o-panel");return Object(a["H"])(),Object(a["k"])(s,{class:"info-container",title:"项目组信息"},{default:Object(a["fb"])((function(){return[Object(a["n"])("div",Ee,[(Object(a["H"])(!0),Object(a["m"])(a["b"],null,Object(a["O"])(e.groups,(function(t){return Object(a["H"])(),Object(a["m"])("div",{key:t.code,class:"groups"},[Object(a["n"])("div",Ae,[Object(a["n"])("p",Re,[Object(a["n"])("span",Ne,Object(a["U"])(t.code),1),Object(a["n"])("span",Ie,Object(a["U"])(t.seats.length),1)]),Object(a["n"])("p",He,[(Object(a["H"])(!0),Object(a["m"])(a["b"],null,Object(a["O"])(t.seats,(function(t){return Object(a["H"])(),Object(a["k"])(c,{key:t,class:"seat-tag",size:"mini",effect:"dark","disable-transitions":!0,color:e.activeSeat===t?"#409EFF":"#909399",onClick:function(n){return e.onSeatClick(t)}},{default:Object(a["fb"])((function(){return[Object(a["p"])(Object(a["U"])(t.toUpperCase()),1)]})),_:2},1032,["color","onClick"])})),128))])])])})),128))])]})),_:1})}Object(a["I"])(),Object(a["K"])("data-v-a5dcbc9a");var We={class:"card-header"};function Le(e,t,n,o,r,i){var c=Object(a["Q"])("el-card");return Object(a["H"])(),Object(a["k"])(c,{class:"card-define",shadow:"hover"},{header:Object(a["fb"])((function(){return[Object(a["n"])("div",We,[Object(a["n"])("span",null,Object(a["U"])(e.theTitle),1)])]})),default:Object(a["fb"])((function(){return[Object(a["P"])(e.$slots,"default",{},void 0,!0)]})),_:3})}Object(a["I"])();var qe=Object(a["r"])({name:"App",components:{ElCard:r["c"]},props:{title:{required:!0,type:String}},setup:function(e){return{theTitle:e.title}}});n("1976");qe.render=Le,qe.__scopeId="data-v-a5dcbc9a";var Ge=qe,Be=Object(a["r"])({components:{OPanel:Ge,ElTag:r["f"]},emits:["seat-click"],setup:function(e,t){var n=Object(a["M"])(),o=function(e){n.value=e,t.emit("seat-click",e)};return{groups:se,useSeat:ce.useSeat,totalSeat:ce.totalSeat,usageRate:Math.ceil(ce.useSeat/ce.totalSeat*100),activeSeat:n,onSeatClick:o}}});n("97d5");Be.render=_e,Be.__scopeId="data-v-c257aee6";var Ke=Be;Object(a["K"])("data-v-b161edfe");var Fe={class:"content"},Ue={class:"percentage-value"},Qe=Object(a["n"])("span",{class:"percentage-label"},"工位使用率",-1),Ye={class:"progress-info"},Xe={class:"progress-info-item"},Je=Object(a["n"])("span",{class:"label"},"使用中工位",-1),Ve={class:"value-use"},$e={class:"progress-info-item"},Ze=Object(a["n"])("span",{class:"label"},"未使用中工位",-1),et={class:"value-no-use"};function tt(e,t,n,o,r,i){var c=Object(a["Q"])("el-progress"),s=Object(a["Q"])("o-panel");return Object(a["H"])(),Object(a["k"])(s,{class:"info-container",title:"ODC 概况"},{default:Object(a["fb"])((function(){return[Object(a["n"])("div",Fe,[Object(a["q"])(c,{class:"odc-progress","stroke-width":12,type:"circle",percentage:e.usageRate,color:"#459eff"},{default:Object(a["fb"])((function(e){var t=e.percentage;return[Object(a["n"])("span",Ue,Object(a["U"])(t)+"%",1),Qe]})),_:1},8,["percentage"]),Object(a["n"])("div",Ye,[Object(a["n"])("p",Xe,[Je,Object(a["n"])("span",Ve,Object(a["U"])(e.useSeat),1)]),Object(a["n"])("p",$e,[Ze,Object(a["n"])("span",et,Object(a["U"])(e.totalSeat-e.useSeat),1)])])])]})),_:1})}Object(a["I"])();var nt=Object(a["r"])({components:{OPanel:Ge,ElProgress:r["e"]},setup:function(){return{groups:se,useSeat:ce.useSeat,totalSeat:ce.totalSeat,usageRate:Math.ceil(ce.useSeat/ce.totalSeat*100)}}});n("2f0f");nt.render=tt,nt.__scopeId="data-v-b161edfe";var at=nt;Object(a["K"])("data-v-905ebe34");var ot=Object(a["p"])(" 重置 "),rt=Object(a["p"])("北1观测点"),it=Object(a["p"])("北2观测点"),ct=Object(a["p"])("北3观测点"),st=Object(a["p"])("北4观测点"),ut=Object(a["p"])("南3观测点"),lt=Object(a["p"])("南2观测点"),bt=Object(a["p"])("南1观测点");function dt(e,t,n,o,r,i){var c=Object(a["Q"])("el-button"),s=Object(a["Q"])("el-button-group");return Object(a["H"])(),Object(a["k"])(s,{class:"toolbar"},{default:Object(a["fb"])((function(){return[Object(a["q"])(c,{icon:"el-icon-refresh",size:"mini",onClick:e.refresh},{default:Object(a["fb"])((function(){return[ot]})),_:1},8,["onClick"]),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[0]||(t[0]=function(t){return e.handleClick(0,e.seatAreaType.north)}),onMouseenter:t[1]||(t[1]=function(t){return e.handleMouseMove(0,e.seatAreaType.north)}),onMouseleave:t[2]||(t[2]=function(t){return e.handleMouseMove(0,e.seatAreaType.north,0)})},{default:Object(a["fb"])((function(){return[rt]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[3]||(t[3]=function(t){return e.handleClick(1,e.seatAreaType.north)}),onMouseenter:t[4]||(t[4]=function(t){return e.handleMouseMove(1,e.seatAreaType.north)}),onMouseleave:t[5]||(t[5]=function(t){return e.handleMouseMove(1,e.seatAreaType.north,0)})},{default:Object(a["fb"])((function(){return[it]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[6]||(t[6]=function(t){return e.handleClick(2,e.seatAreaType.north)}),onMouseenter:t[7]||(t[7]=function(t){return e.handleMouseMove(2,e.seatAreaType.north)}),onMouseleave:t[8]||(t[8]=function(t){return e.handleMouseMove(2,e.seatAreaType.north,0)})},{default:Object(a["fb"])((function(){return[ct]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[9]||(t[9]=function(t){return e.handleClick(3,e.seatAreaType.north)}),onMouseenter:t[10]||(t[10]=function(t){return e.handleMouseMove(3,e.seatAreaType.north)}),onMouseleave:t[11]||(t[11]=function(t){return e.handleMouseMove(3,e.seatAreaType.north,0)})},{default:Object(a["fb"])((function(){return[st]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[12]||(t[12]=function(t){return e.handleClick(2,e.seatAreaType.south)}),onMouseenter:t[13]||(t[13]=function(t){return e.handleMouseMove(2,e.seatAreaType.south)}),onMouseleave:t[14]||(t[14]=function(t){return e.handleMouseMove(2,e.seatAreaType.south,0)})},{default:Object(a["fb"])((function(){return[ut]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[15]||(t[15]=function(t){return e.handleClick(1,e.seatAreaType.south)}),onMouseenter:t[16]||(t[16]=function(t){return e.handleMouseMove(1,e.seatAreaType.south)}),onMouseleave:t[17]||(t[17]=function(t){return e.handleMouseMove(1,e.seatAreaType.south,0)})},{default:Object(a["fb"])((function(){return[lt]})),_:1}),Object(a["q"])(c,{icon:"el-icon-location",size:"mini",onClick:t[18]||(t[18]=function(t){return e.handleClick(0,e.seatAreaType.south)}),onMouseenter:t[19]||(t[19]=function(t){return e.handleMouseMove(0,e.seatAreaType.south)}),onMouseleave:t[20]||(t[20]=function(t){return e.handleMouseMove(0,e.seatAreaType.south,0)})},{default:Object(a["fb"])((function(){return[bt]})),_:1})]})),_:1})}Object(a["I"])();var ht=Object(a["r"])({components:{ElButtonGroup:r["b"],ElButton:r["a"]},props:{odcInstance:{type:Object}},emits:["click-monitor-btn","monitor-mouse-move","refresh"],setup:function(e,t){var n=function(e,n){t.emit("click-monitor-btn",{index:e,area:n})},a=function(){t.emit("refresh")},o=function(e,n,a){t.emit("monitor-mouse-move",{index:e,area:n,option:a})};return{handleClick:n,handleMouseMove:o,refresh:a,seatAreaType:Q}}});n("5e66");ht.render=dt,ht.__scopeId="data-v-905ebe34";var vt=ht,ft=Object(a["r"])({name:"App",components:{BizGroupInfo:Ke,OverviewInfo:at,MonitorToolbar:vt},setup:function(){var e,t=r["d"].service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});Se((function(){return t.close()})).then((function(){e=new De}));var n=function(t){e&&e.lightSeat([t])},a=function(t){var n,a,o=t.index,r=t.area;return r===Q.north?null===(n=e)||void 0===n?void 0:n.getStructure().getMonitors().north[o]:null===(a=e)||void 0===a?void 0:a.getStructure().getMonitors().south[o]},o=function(t){var n,o,r=t.index,i=t.area,c=a({index:r,area:i});null===c||void 0===c||c.observationArea({camera:null===(n=e)||void 0===n?void 0:n.getCamera(),controls:null===(o=e)||void 0===o?void 0:o.getControls()})},i=function(e){var t=e.index,n=e.area,o=e.option,r=a({index:t,area:n}),i=0===o?16777215:4562671;null===r||void 0===r||r.setColor(i);var c=0===o?30:40;null===r||void 0===r||r.setScale(c)},c=function(){var t;null===(t=e)||void 0===t||t.refresh()};return{onSeatClick:n,onMonitorClick:o,onMonitorMouseMove:i,onRefresh:c}}});ft.render=o;var pt=ft;n("26af"),n("05b3"),n("db43");Object(a["j"])(pt).mount("#app")},db43:function(e,t,n){},e403:function(e,t,n){}});
//# sourceMappingURL=app.26d51401.js.map