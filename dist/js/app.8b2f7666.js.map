{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/panel/index.vue?a167","webpack:///./src/views/overview-info/index.vue?d9d7","webpack:///./src/views/biz-group-info/index.vue?10f1","webpack:///./src/app.vue","webpack:///./src/scenes/odc/util/location.ts","webpack:///./src/scenes/odc/util/raycaster.ts","webpack:///./src/scenes/odc/event/mousemove.ts","webpack:///./src/scenes/odc/event/click.ts","webpack:///./src/scenes/odc/event.ts","webpack:///./src/scenes/odc/util/path.ts","webpack:///./src/scenes/odc/model/floor/floor.ts","webpack:///./src/scenes/odc/model/wall/wall.ts","webpack:///./src/scenes/odc/model/wall/glass-wall.ts","webpack:///./src/scenes/odc/model/computer-host/host.ts","webpack:///./src/scenes/odc/model/computer-host/hw-host.ts","webpack:///./src/scenes/odc/model/computer-host/apple-host.ts","webpack:///./src/scenes/odc/util/generate-text-sprite.js","webpack:///./src/scenes/odc/util/object-3d.ts","webpack:///./src/scenes/odc/model/monitor/monitor.ts","webpack:///./src/scenes/odc/model/desktop/desktop.ts","webpack:///./src/scenes/odc/util/camera.ts","webpack:///./src/scenes/odc/model/key-point/key-point.ts","webpack:///./src/scenes/odc/model/seat/seat.ts","webpack:///./src/scenes/odc/model/wall/inner-wall.ts","webpack:///./src/data/workstations-data.ts","webpack:///./src/scenes/odc/model/wall/external-wall.ts","webpack:///./src/scenes/odc/model/workstation/workstation.ts","webpack:///./src/scenes/odc/util/highlight.ts","webpack:///./src/data/buildings-data.ts","webpack:///./src/data/key-point-data.ts","webpack:///./src/scenes/odc/model/coffee-table/coffee-table.ts","webpack:///./src/scenes/odc/model/sofa/sofa.ts","webpack:///./src/scenes/odc/model/kitchen/kitchen.ts","webpack:///./src/scenes/odc/model/camera-monitor/camera-monitor.ts","webpack:///./src/data/camera-monitor-data.ts","webpack:///./src/scenes/odc/index.ts","webpack:///./src/views/biz-group-info/index.vue","webpack:///./src/components/panel/index.vue","webpack:///./src/components/panel/index.vue?8a26","webpack:///./src/components/panel/index.vue?5c99","webpack:///./src/views/biz-group-info/index.vue?c361","webpack:///./src/views/biz-group-info/index.vue?b9f8","webpack:///./src/views/overview-info/index.vue","webpack:///./src/views/overview-info/index.vue?5b8f","webpack:///./src/views/overview-info/index.vue?7e7f","webpack:///./src/views/monitor-toolbar/index.vue","webpack:///./src/views/monitor-toolbar/index.vue?0c8c","webpack:///./src/views/monitor-toolbar/index.vue?37d7","webpack:///./src/app.vue?a29c","webpack:///./src/app.vue?1c87","webpack:///./src/main.ts","webpack:///./src/views/monitor-toolbar/index.vue?a24e"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","clientX2X","clientX","innerWidth","clientY2Y","clientY","innerHeight","getIntersectedMesh","pointer","intersectObject","camera","raycasterInstance","setFromCamera","intersects","intersectObjects","highlightOutlinePass","this","observers","moveRaycaster","initEvent","x","y","reduce","acc","observer","activeMesh","getMousemoveObserveObjects","active","inactive","document","addEventListener","event","requestAnimationFrame","selectedObjects","observerGroup","getObserverGroup","forEach","beforeMousemove","onMousemove","controls","clickRaycaster","getClickObserveObjects","beforeClick","onClick","globalEvent","path","publicPath","begin","end","floor","initGeometry","initMaterial","calculatePosition","z","position","set","add","loader","texture","load","wrapS","wrapT","repeat","color","beginX","beginY","endX","endY","width","height","thickness","wall","rotation","calculateRotation","a","b","Math","sqrt","pow","atan2","transparent","opacity","baseHeight","baseDepth","baseWidth","host","createHost","hostMaterial","material","createHostGeometry","createHostMaterial","userData","clazzName","HWHost","AppleHost","createLogo","then","logo","Promise","resolve","MTLLoader","materials","objLoader","OBJLoader","setMaterials","obj","PI","scale","resource","logoObject3D","undefined","generateTextSprite","text","config","fontFace","fontSize","fontColor","fontBold","fontItalic","textAlign","borderThickness","borderColor","borderRadius","backgroundColor","ruler","createElement","getContext","font","textLines","split","textWidth","line","metrics","measureText","textHeight","canvas","_ceilPow2","context","fillStyle","strokeStyle","lineWidth","_roundRect","fillTextX","left","start","center","right","curY","fillText","THREE","needsUpdate","spriteMaterial","map","sprite","num","ctx","w","h","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","stroke","box3","v3","setFromObject","getSize","setEqualScale","oldX","oldY","oldZ","getDefinedObject3D","parent","getDefinedObject3DByName","Monitor","monitorObject3D","Error","monitor","clone","external","createMonitor","screenMaterial","getObjectByName","screenTexture","screenMesh","loadingManager","seatInfo","monitors","monitorTips","Desktop","createMacMini","macMini","macMiniTip","createPC","pc","pcTip","monitorTip","member","index","visible","silence","object3D","theMonitorObj","Array","isArray","monitorObj","highlight","type","createTextSprite","info","hwHost","hwTip","monitorZ","tipX","textSprite","cameraPosition","orbitTargetPosition","endCameraPosition","endOrbitTargetPosition","tween","x1","y1","z1","x2","y2","z2","onStart","enabled","to","onUpdate","target","update","onComplete","easing","Cubic","InOut","size","looAtPosition","keyPoint","createGeometry","createMaterial","KeyPoint","observationArea","children","lookAt","side","geometry","rotateX","getWorldPosition","basePosition","theSeatInfo","table","createTable","createKeyPoint","desktop","createDeskTop","locationKeyPoint","heightY","lookX","keyPointX","keyPointZ","lockAtPosition","setLookAt","tableX","dispatchEvent","message","desktopName","rowCode","tableZ","tableY","Seat","tableObject3D","SeatAreaType","seats","xLength","zLength","workstation","createWorkstation","activeDesktop","definedObject3D","allSeats","innerGroup","row","seat","spacing","xCenter","idx","seatGroup","createSeatGroup","rowSeats","seatsGroup","seatsLength","itemNumber","tempSeat","eastSeat","westSeat","offset","scene","renderer","composer","EffectComposer","addPass","RenderPass","outlinePass","OutlinePass","edgeStrength","Number","edgeGlow","edgeThickness","pulsePeriod","usePatternTexture","visibleEdgeColor","hiddenEdgeColor","effectFXAA","ShaderPass","FXAAShader","uniforms","WALL_HEIGHT","WALL_THICKNESS","walls","kitchenStation","northSofaStation","coffeeTableStation","sideSpacing","northWorkstationArea","southWorkstationArea","generateWorkstationData","pre","north","currentRow","northWorkstation","southWorkstation","south","odcInfo","totalSeat","useSeat","bizGroupInfo","code","keyPointPositions","coffeeTable","createCoffeeTable","CoffeeTable","coffeeTableObject3D","sofa","createSofa","Sofa","sofaObject3D","sofaObj","translateY","loadManager","sofaObj3D","kitchen","createKitchen","Kitchen","kitchenObject3D","areaType","observedSeatRowIndex","initCameraMonitor","find","item","includes","lookAtPosition","southCameraMonitors","northCameraMonitors","onLoad","all","loadResource","odcGroup","initRender","initCamera","initScene","OrbitControls","domElement","stats","initHelp","initLight","highlightComposer","renderWall","renderFloor","renderStation","renderKitchen","renderNorthSofa","renderCoffeeTable","renderCameraMonitor","keyPoints","renderKeyPoints","locationODC","animate","aspect","updateProjectionMatrix","setSize","mousemoveEvent","addObservers","clickEvent","screenSpacePanning","maxPolarAngle","axesHelper","body","append","dom","ambientLight","directionalLight","normalize","background","antialias","setPixelRatio","devicePixelRatio","render","measurement","measurementLength","viewLength","beginPointer","endPointer","workStationArea","workStation","getCenterOfModelArea","element","theWorkstation","cameraMonitors","generateCameraMonitor","cameraMonitorPosition","itm","isNeedLiftCamera","expandByObject","getCenter","centerZ","centerX","class","title","groups","group","effect","toUpperCase","shadow","header","theTitle","components","ElCard","props","required","String","setup","__scopeId","OPanel","ElTag","usageRate","ceil","stroke-width","percentage","default","ElProgress","icon","ElButtonGroup","ElButton","BizGroupInfo","OverviewInfo","MonitorToolbar","loading","service","lock","close","mount"],"mappings":"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","file":"js/app.8b2f7666.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/odc/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=a5dcbc9a&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=a0ff15e4&scoped=true&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=44d7b64f&scoped=true&lang=scss\"","<template>\n    <overview-info />\n    <biz-group-info />\n    <monitor-toolbar />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { ElLoading } from 'element-plus';\n\nimport { loadODCResource, ODC } from '@/scenes/odc';\nimport BizGroupInfo from '@/views/biz-group-info/index.vue';\nimport OverviewInfo from '@/views/overview-info/index.vue';\nimport MonitorToolbar from '@/views/monitor-toolbar/index.vue';\n\nexport default defineComponent({\n    name: 'App',\n    components: { BizGroupInfo, OverviewInfo, MonitorToolbar },\n    setup() {\n        const loading = ElLoading.service({\n            lock: true,\n            text: 'Loading',\n            background: 'rgba(0, 0, 0, 0.7)',\n        });\n\n        loadODCResource(() => loading.close()).then(() => {\n            // eslint-disable-next-line no-new\n            new ODC();\n        });\n    },\n});\n</script>\n","export const clientX2X = (clientX: number) => {\n    return (clientX / window.innerWidth) * 2 - 1;\n};\n\nexport const clientY2Y = (clientY: number) => {\n    return -(clientY / window.innerHeight) * 2 + 1;\n};\n","import * as THREE from 'three';\n\nexport const getIntersectedMesh = (\n    { camera, raycasterInstance }: { camera: THREE.Camera; raycasterInstance: THREE.Raycaster },\n    pointer: { x: number; y: number },\n    intersectObject: THREE.Object3D[],\n): THREE.Object3D | undefined => {\n    raycasterInstance.setFromCamera(pointer, camera);\n    const intersects = raycasterInstance.intersectObjects(intersectObject, true);\n    if (intersects.length > 0) {\n        return intersects[0].object;\n    }\n};\n","import * as THREE from 'three';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\n\nimport { clientX2X, clientY2Y } from '../util/location';\nimport { getIntersectedMesh } from '../util/raycaster';\n\nexport interface MousemoveObserver {\n    onMousemove: (\n        {\n            highlightOutlinePass,\n        }: {\n            highlightOutlinePass: OutlinePass;\n        },\n        activeMesh: THREE.Mesh,\n    ) => void;\n    beforeMousemove: ({ highlightOutlinePass }: { highlightOutlinePass: OutlinePass }) => void;\n    getMousemoveObserveObjects: () => THREE.Object3D[];\n}\n\ninterface MousemoveObserverGroup {\n    active: { activeMesh: THREE.Mesh; observer: MousemoveObserver }[];\n    inactive: { observer: MousemoveObserver }[];\n}\n\nexport class Mousemove {\n    private observers: any[];\n    private readonly camera: THREE.Camera;\n    private readonly highlightOutlinePass: OutlinePass;\n    private readonly moveRaycaster: THREE.Raycaster;\n\n    public constructor({\n        camera,\n        highlightOutlinePass,\n    }: {\n        highlightOutlinePass: OutlinePass;\n        camera: THREE.Camera;\n    }) {\n        // 被观测的实例\n        this.observers = [];\n        // 用于捕获光线\n        this.camera = camera;\n        this.moveRaycaster = new THREE.Raycaster();\n        // 用于制作高亮\n        this.highlightOutlinePass = highlightOutlinePass;\n        this.initEvent();\n    }\n\n    public addObservers(observers: MousemoveObserver[]) {\n        this.observers.push(...observers);\n    }\n\n    // TODO 合理抽象\n    private getObserverGroup({ x, y }: { x: number; y: number }) {\n        // 遍历每一个观测者 找到中奖选手\n        return this.observers.reduce(\n            (acc, observer) => {\n                const activeMesh = getIntersectedMesh(\n                    { camera: this.camera, raycasterInstance: this.moveRaycaster },\n                    { x, y },\n                    observer.getMousemoveObserveObjects(),\n                );\n                return activeMesh\n                    ? {\n                          active: [...acc.active, { activeMesh, observer }],\n                          inactive: acc.inactive,\n                      }\n                    : {\n                          active: acc.active,\n                          inactive: [...acc.inactive, { observer }],\n                      };\n            },\n            { active: [], inactive: [] },\n        );\n    }\n\n    private initEvent() {\n        document.addEventListener('mousemove', (event) => {\n            const x = clientX2X(event.clientX);\n            const y = clientY2Y(event.clientY);\n            requestAnimationFrame(() => {\n                // 移动执行前准备\n                this.highlightOutlinePass.selectedObjects = [];\n                // 遍历每一个观测者 找到中奖选手\n                const observerGroup = this.getObserverGroup({ x, y }) as MousemoveObserverGroup;\n                // 遍历未中奖选手 安慰 (优先这样处理是防止对中奖选手产生影响,有的为中奖选手会 移除 this.highlightOutlinePass.selectedObjects)\n                observerGroup.inactive.forEach(({ observer }) => {\n                    if (observer.beforeMousemove) {\n                        observer.beforeMousemove({\n                            highlightOutlinePass: this.highlightOutlinePass,\n                        });\n                    }\n                });\n                // 遍历中奖选手 发奖 暂时不考虑头奖选手 不让其他 mesh 得奖\n                observerGroup.active.forEach(({ observer, activeMesh }) => {\n                    if (observer.beforeMousemove) {\n                        observer.beforeMousemove({\n                            highlightOutlinePass: this.highlightOutlinePass,\n                        });\n                    }\n                    if (observer.onMousemove) {\n                        observer.onMousemove(\n                            { highlightOutlinePass: this.highlightOutlinePass },\n                            activeMesh,\n                        );\n                    }\n                });\n            });\n        });\n    }\n}\n","import * as THREE from 'three';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nimport { clientX2X, clientY2Y } from '../util/location';\nimport { getIntersectedMesh } from '../util/raycaster';\n\nexport interface ClickObserver {\n    onClick: (\n        {\n            highlightOutlinePass,\n            controls,\n            camera,\n        }: {\n            highlightOutlinePass: OutlinePass;\n            controls: OrbitControls;\n            camera: THREE.Camera;\n        },\n        activeMesh: THREE.Mesh,\n    ) => void;\n    beforeClick: () => void;\n    getClickObserveObjects: () => THREE.Object3D[];\n}\ninterface ClickObserverGroup {\n    active: { activeMesh: THREE.Mesh; observer: ClickObserver }[];\n    inactive: { observer: ClickObserver }[];\n}\n\nexport class Click {\n    // TODO type\n    private observers: any[];\n    private readonly camera: THREE.Camera;\n    private readonly controls: OrbitControls;\n    private readonly highlightOutlinePass: OutlinePass;\n    private readonly clickRaycaster: THREE.Raycaster;\n\n    public constructor({\n        camera,\n        highlightOutlinePass,\n        controls,\n    }: {\n        highlightOutlinePass: OutlinePass;\n        controls: OrbitControls;\n        camera: THREE.Camera;\n    }) {\n        // 被观测的实例\n        this.observers = [];\n        // 用于捕获光线\n        this.camera = camera;\n        this.controls = controls;\n        this.clickRaycaster = new THREE.Raycaster();\n        // 用于制作高亮\n        this.highlightOutlinePass = highlightOutlinePass;\n        this.initEvent();\n    }\n\n    public addObservers(observers: ClickObserver[]) {\n        this.observers.push(...observers);\n    }\n\n    // TODO 合理抽象\n    private getObserverGroup({ x, y }: { x: number; y: number }) {\n        // 遍历每一个观测者 找到中奖选手\n        return this.observers.reduce(\n            (acc, observer) => {\n                const activeMesh = getIntersectedMesh(\n                    { camera: this.camera, raycasterInstance: this.clickRaycaster },\n                    { x, y },\n                    observer.getClickObserveObjects(),\n                );\n                return activeMesh\n                    ? {\n                          active: [...acc.active, { activeMesh, observer }],\n                          inactive: acc.inactive,\n                      }\n                    : {\n                          active: acc.active,\n                          inactive: [...acc.inactive, { observer }],\n                      };\n            },\n            { active: [], inactive: [] },\n        );\n    }\n\n    private initEvent() {\n        document.addEventListener('click', (event) => {\n            const x = clientX2X(event.clientX);\n            const y = clientY2Y(event.clientY);\n            // TODO 类型\n            // 遍历每一个观测者 找到中奖选手\n            const observerGroup = this.getObserverGroup({ x, y }) as unknown as ClickObserverGroup;\n            observerGroup.inactive.forEach(({ observer }) => {\n                if (observer.beforeClick) observer.beforeClick();\n            });\n            // 遍历中奖选手 发奖 暂时不考虑头奖选手 不让其他 mesh 得奖\n            observerGroup.active.forEach(({ observer, activeMesh }) => {\n                if (observer.beforeClick) observer.beforeClick();\n                if (observer.onClick) {\n                    observer.onClick(\n                        {\n                            highlightOutlinePass: this.highlightOutlinePass,\n                            controls: this.controls,\n                            camera: this.camera,\n                        },\n                        activeMesh,\n                    );\n                }\n            });\n        });\n    }\n}\n","import * as THREE from 'three';\n\nexport const globalEvent = new THREE.EventDispatcher();\n","export const p = (path: string) => {\n    const publicPath = '/odc';\n    if (process.env.NODE_ENV === 'production') return `${publicPath}${path}`;\n    return path;\n};\n","import * as THREE from 'three';\n\nimport { ModelPointer } from '@/scenes/types';\nimport { p } from '@/scenes/odc/util/path';\n\n// TODO\n\nexport class Floor extends THREE.Group {\n    public constructor(begin: ModelPointer, end: ModelPointer) {\n        super();\n        const floor = new THREE.Mesh(this.initGeometry(begin, end), this.initMaterial());\n        const [x, y, z] = this.calculatePosition(begin, end);\n        floor.position.set(x, y, z);\n        this.add(floor);\n    }\n\n    protected initMaterial() {\n        const loader = new THREE.TextureLoader();\n        const texture = loader.load(p('/texture/floor.jpeg'));\n        texture.wrapS = THREE.RepeatWrapping;\n        texture.wrapT = THREE.RepeatWrapping;\n        // uv两个方向纹理重复数量\n        texture.repeat.set(2, 1);\n        return new THREE.MeshLambertMaterial({\n            color: 'rgb(120, 122, 145)',\n        });\n    }\n\n    protected initGeometry(begin: ModelPointer, end: ModelPointer) {\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        const width = endX - beginX;\n        const height = endY - beginY;\n        return new THREE.BoxGeometry(height, 2, width);\n    }\n\n    /**\n     * 计算坐标\n     */\n    protected calculatePosition(begin: ModelPointer, end: ModelPointer) {\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        const width = endX - beginX;\n        const height = endY - beginY;\n        return [height / 2, 0, width / 2];\n    }\n}\n","import * as THREE from 'three';\nimport { Group, Material } from 'three';\n\nimport { ModelPointer } from '@/scenes/types';\n\n/**\n * 墙体 仅支持笔直的墙，不打弯\n */\nexport class Wall extends Group {\n    // TODO\n    // eslint-disable-next-line max-params\n    public constructor(begin: ModelPointer, end: ModelPointer, height: number, thickness: number) {\n        super();\n        const wall = new THREE.Mesh(\n            this.initGeometry(begin, end, height, thickness),\n            this.initMaterial(),\n        );\n        const [x, y, z] = this.calculatePosition(begin, end, height);\n        wall.position.set(x, y, z);\n        wall.rotation.y = this.calculateRotation(begin, end);\n        this.add(wall);\n    }\n\n    protected initMaterial(): Material {\n        return new THREE.MeshLambertMaterial({ color: '#67C23A' });\n    }\n\n    // TODO\n    // eslint-disable-next-line max-params\n    protected initGeometry(\n        begin: ModelPointer,\n        end: ModelPointer,\n        height: number,\n        thickness: number,\n    ) {\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        const a = endX - beginX;\n        const b = endY - beginY;\n        const length = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\n        return new THREE.BoxGeometry(thickness, height, length);\n    }\n\n    protected calculatePosition(begin: ModelPointer, end: ModelPointer, height: number) {\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        return [(endY + beginY) / 2, height / 2, (endX + beginX) / 2];\n    }\n\n    protected calculateRotation(begin: ModelPointer, end: ModelPointer) {\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        return Math.atan2(endY - beginY, endX - beginX);\n    }\n}\n","import * as THREE from 'three';\n\nimport { Wall } from './wall';\n\nimport { ModelPointer } from '@/scenes/types';\n\nexport class GlassWall extends Wall {\n    // TODO\n    // eslint-disable-next-line max-params\n    public constructor(begin: ModelPointer, end: ModelPointer, height: number, thickness: number) {\n        super(begin, end, height, thickness);\n    }\n    protected initMaterial() {\n        return new THREE.MeshBasicMaterial({ color: 0xECF1F3, transparent: true, opacity: 0.4 });\n    }\n}\n","import * as THREE from 'three';\n\nexport class Host extends THREE.Group {\n    public readonly baseWidth: number;\n    public readonly baseHeight: number;\n    public readonly baseDepth: number;\n    public readonly host: THREE.Mesh<THREE.BoxGeometry, THREE.MeshLambertMaterial>;\n    public readonly hostMaterial: THREE.MeshLambertMaterial;\n\n    public constructor() {\n        super();\n        this.baseHeight = 18;\n        this.baseDepth = 6;\n        this.baseWidth = 18;\n        this.host = this.createHost();\n        this.hostMaterial = this.host.material;\n        this.add(this.host);\n    }\n\n    public active() {\n        this.host.material = new THREE.MeshPhongMaterial({ color: '0x409eff' });\n    }\n\n    public silence() {\n        this.host.material = this.hostMaterial;\n    }\n\n    protected createHostGeometry() {\n        return new THREE.BoxGeometry(this.baseWidth, this.baseHeight, this.baseDepth);\n    }\n\n    protected createHostMaterial() {\n        return new THREE.MeshLambertMaterial({ color: '#282c34' });\n    }\n\n    protected createHost() {\n        return new THREE.Mesh(this.createHostGeometry(), this.createHostMaterial());\n    }\n}\n","import { Host } from './host';\n\nexport class HWHost extends Host {\n    public static clazzName = 'HWHost';\n\n    public constructor() {\n        super();\n        this.userData.clazzName = HWHost.clazzName;\n    }\n}\n","import * as THREE from 'three';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\n\nimport { Host } from './host';\n\nimport { p } from '@/scenes/odc/util/path';\n\nexport class AppleHost extends Host {\n    public static clazzName = 'AppleHost';\n\n    private static resource: Record<string, undefined | THREE.Object3D> = {\n        logoObject3D: undefined,\n    };\n\n    public static loadResource() {\n        return new Promise((resolve) => {\n            new MTLLoader().load(p('/3d-model/apple-logo/apple-logo.mtl'), (materials) => {\n                const objLoader = new OBJLoader();\n                objLoader.setMaterials(materials);\n                objLoader.load(p('/3d-model/apple-logo/apple-logo.obj'), (obj) => {\n                    AppleHost.resource.logoObject3D = obj;\n                    resolve({ logoObject3D: obj });\n                });\n            });\n        });\n    }\n\n    // TODO\n    private logo: THREE.Object3D | undefined;\n\n    public constructor() {\n        super();\n        this.userData.clazzName = AppleHost.clazzName;\n        this.createLogo().then((logo) => {\n            this.logo = logo;\n            this.add(this.logo);\n        });\n    }\n\n    protected createHostMaterial() {\n        return new THREE.MeshLambertMaterial({});\n    }\n\n    private createLogo(): Promise<THREE.Object3D> {\n        // TODO 修改为依赖注入模式\n        return new Promise((resolve) => {\n            new MTLLoader().load('/3d-model/apple-logo/apple-logo.mtl', (materials) => {\n                const objLoader = new OBJLoader();\n                objLoader.setMaterials(materials);\n                objLoader.load('/3d-model/apple-logo/apple-logo.obj', (obj) => {\n                    obj.position.x = this.host.position.x - this.baseWidth / 2;\n                    obj.position.z = this.host.position.z;\n                    obj.position.y = this.baseHeight / 8;\n                    obj.rotation.y = -Math.PI / 2;\n                    obj.scale.set(0.04, 0.04, 0.04);\n                    resolve(obj);\n                });\n            });\n        });\n        // const obj = AppleHost.resource.logoObject3D.clone();\n        // obj.position.x = this.host.position.x - (this.baseWidth/2);\n        // obj.position.z = this.host.position.z;\n        // obj.position.y = this.baseHeight / 8;\n        // obj.rotation.y = - Math.PI/2;\n        // obj.scale.set(0.04,0.04,0.04);\n        // return obj;\n    }\n}\n","import * as THREE from 'three';\n\n/**\n * @author Roger Qi / https://github.com/SouthpawGoblin\n * @description function for generating multi-line text sprite with Three.\n * @param {*} text text to show on sprite, use '\\n' to seperate lines\n * @param {*} config {\n *   fontFace: string,\n *   fontSize: number,\n *   fontColor: string(rgba),\n *   fontBold: boolean,\n *   fontItalic: boolean,\n *   textAlign: string,\n *   borderThickness: number,\n *   borderColor: string(rgba),\n *   borderRadius: number,\n *   backgroundColor: string(rgba)\n * }\n */\nexport const generateTextSprite = function (text, config) {\n    config || (config = {});\n\n    let fontFace = config.hasOwnProperty('fontFace') ? config['fontFace'] : 'Arial';\n    let fontSize = config.hasOwnProperty('fontSize') ? config['fontSize'] : 18;\n    let fontColor = config.hasOwnProperty('fontColor') ? config['fontColor'] : 'rgba(0, 0, 0, 1)';\n    let fontBold = config.hasOwnProperty('fontBold') ? config['fontBold'] : false;\n    let fontItalic = config.hasOwnProperty('fontItalic') ? config['fontItalic'] : false;\n    let textAlign = config.hasOwnProperty('textAlign') ? config['textAlign'] : 'left';\n    let borderThickness = config.hasOwnProperty('borderThickness') ? config['borderThickness'] : 4;\n    let borderColor = config.hasOwnProperty('borderColor')\n        ? config['borderColor']\n        : 'rgba(0, 0, 0, 1)';\n    let borderRadius = config.hasOwnProperty('borderRadius') ? config['borderRadius'] : 0;\n    let backgroundColor = config.hasOwnProperty('backgroundColor')\n        ? config['backgroundColor']\n        : 'rgba(255, 255, 255, 1)';\n\n    let ruler = document.createElement('canvas').getContext('2d');\n    ruler.font =\n        (fontBold ? 'Bold ' : '') + (fontItalic ? 'Italic ' : '') + fontSize + 'px ' + fontFace;\n\n    let textLines = text.split('\\n');\n    let textWidth = 0;\n    // canvas width shall be based on the longest width of text lines\n    textLines.forEach((line) => {\n        let metrics = ruler.measureText(line);\n        textWidth = metrics.width > textWidth ? metrics.width : textWidth;\n    });\n    // 1.4 is extra height factor for text below baseline: g,j,p,q.\n    let textHeight = fontSize * 1.4 * textLines.length;\n\n    // texture canvas\n    let canvas = document.createElement('canvas');\n    canvas.width = _ceilPow2(textWidth);\n    canvas.height = _ceilPow2(textHeight);\n    let context = canvas.getContext('2d');\n\n    // draw background\n    context.font = ruler.font;\n    context.fillStyle = backgroundColor;\n    context.strokeStyle = borderColor;\n    context.lineWidth = borderThickness;\n    _roundRect(\n        context,\n        borderThickness / 2,\n        borderThickness / 2,\n        textWidth + borderThickness,\n        textHeight + borderThickness,\n        borderRadius,\n    );\n\n    // draw text\n    context.fillStyle = fontColor;\n    context.textAlign = textAlign;\n    let fillTextX = {\n        left: borderThickness,\n        start: borderThickness,\n        center: textWidth / 2 + borderThickness,\n        right: textWidth + borderThickness,\n        end: textWidth + borderThickness,\n    };\n    let curY = fontSize + borderThickness;\n    textLines.forEach((line) => {\n        context.fillText(line, fillTextX[textAlign], curY);\n        curY += fontSize * 1.4;\n    });\n\n    // generate sprite\n    let texture = new THREE.Texture(canvas);\n    texture.needsUpdate = true;\n    let spriteMaterial = new THREE.SpriteMaterial({\n        map: texture,\n        transparent: true,\n    });\n    let sprite = new THREE.Sprite(spriteMaterial);\n    sprite.scale.set(canvas.width / 2, canvas.height / 2, 1);\n\n    return sprite;\n\n    // ceil the input number to the nearest powers of 2\n    function _ceilPow2(num) {\n        let i = 0;\n        while (num > Math.pow(2, i)) {\n            i++;\n        }\n        return Math.pow(2, i);\n    }\n\n    // draw round rect\n    function _roundRect(ctx, x, y, w, h, r) {\n        ctx.beginPath();\n        ctx.moveTo(x + r, y);\n        ctx.lineTo(x + w - r, y);\n        ctx.quadraticCurveTo(x + w, y, x + w, y + r);\n        ctx.lineTo(x + w, y + h - r);\n        ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\n        ctx.lineTo(x + r, y + h);\n        ctx.quadraticCurveTo(x, y + h, x, y + h - r);\n        ctx.lineTo(x, y + r);\n        ctx.quadraticCurveTo(x, y, x + r, y);\n        ctx.closePath();\n        ctx.fill();\n        ctx.stroke();\n    }\n};\n","import * as THREE from 'three';\n\nexport const getSize = (obj: THREE.Object3D) => {\n    const box3 = new THREE.Box3();\n    const v3 = new THREE.Vector3();\n    box3.setFromObject(obj);\n    return box3.getSize(v3);\n};\n\nexport const setEqualScale = (obj: THREE.Object3D, scale: number) => {\n    const { x: oldX, y: oldY, z: oldZ } = obj.scale;\n    obj.scale.set(oldX * scale, oldY * scale, oldZ * scale);\n};\n\nexport const getDefinedObject3D = (obj: THREE.Object3D): THREE.Object3D | undefined => {\n    if (obj.parent) {\n        // 找到 desktop 的标识\n        return obj.parent?.userData.clazzName ? obj.parent : getDefinedObject3D(obj.parent);\n    } else {\n        return;\n    }\n};\n\nexport const getDefinedObject3DByName = (\n    obj: THREE.Object3D,\n    name: string,\n): THREE.Object3D | undefined => {\n    if (obj.parent) {\n        // 找到 desktop 的标识\n        return obj.parent.userData && obj.parent.userData.clazzName === name\n            ? obj.parent\n            : getDefinedObject3DByName(obj.parent, name);\n    } else {\n        return;\n    }\n};\n","import * as THREE from 'three';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { Group, Material, Mesh } from 'three';\n\nimport { p } from '@/scenes/odc/util/path';\n\nexport class Monitor extends THREE.Group {\n    public static clazzName = 'monitor';\n\n    private static resource: Record<string, undefined | Group> = {\n        monitorObject3D: undefined,\n    };\n\n    public static loadResource(loadingManager: THREE.LoadingManager) {\n        return new Promise((resolve) => {\n            new MTLLoader(loadingManager).load(p('/3d-model/monitor/monitor.mtl'), (materials) => {\n                const objLoader = new OBJLoader(loadingManager);\n                objLoader.setMaterials(materials);\n                objLoader.load(p('/3d-model/monitor/monitor.obj'), (obj) => {\n                    Monitor.resource.monitorObject3D = obj;\n                    return resolve({ monitorObject3D: obj });\n                });\n            });\n        });\n    }\n\n    private readonly monitor: Group;\n\n    private readonly screenMaterial: Material;\n\n    public constructor() {\n        super();\n        this.monitor = this.createMonitor();\n        this.userData.clazzName = Monitor.clazzName;\n        // 用于备份高亮\n        this.screenMaterial = (this.monitor.getObjectByName('Screen') as Mesh)\n            .material as Material;\n        this.add(this.monitor);\n    }\n\n    public active() {\n        const loader = new THREE.TextureLoader();\n        const screenTexture = loader.load(p('/texture/screen.png'));\n        const screenMesh = this.monitor.getObjectByName('Screen');\n        if (screenMesh instanceof Mesh) {\n            screenMesh.material = new THREE.MeshPhongMaterial({\n                map: screenTexture,\n            });\n        }\n    }\n\n    public silence() {\n        const screenMesh = this.monitor.getObjectByName('Screen');\n        if (screenMesh instanceof Mesh) {\n            screenMesh.material = this.screenMaterial;\n        }\n    }\n\n    private createMonitor = () => {\n        if (!Monitor.resource.monitorObject3D) throw new Error('You have not loadResource');\n        const monitor = Monitor.resource.monitorObject3D.clone();\n        monitor.userData.external = true;\n        return monitor;\n    };\n}\n","import * as THREE from 'three';\n\nimport { HWHost } from '../computer-host/hw-host';\nimport { AppleHost } from '../computer-host/apple-host';\n// @ts-ignore\nimport { generateTextSprite } from '../../util/generate-text-sprite.js';\nimport { getDefinedObject3D, getSize, setEqualScale } from '../../util/object-3d';\nimport { Monitor } from '../monitor/monitor';\n\nimport { SeatInfo } from '@/data/workstations-data';\n\nexport class Desktop extends THREE.Group {\n    public static clazzName = 'desktop';\n\n    private readonly monitors: Monitor[];\n    private monitorTips: THREE.Sprite[];\n    private readonly pc: HWHost;\n    private readonly pcTip: THREE.Sprite;\n    private readonly macMini: AppleHost;\n    private readonly macMiniTip: THREE.Sprite;\n\n    public constructor(name: string, seatInfo: SeatInfo) {\n        super();\n        this.monitors = [];\n        this.monitorTips = [];\n        // 稳定性标识用于识别 当前 Group\n        this.userData.clazzName = Desktop.clazzName;\n        const { monitors, monitorTips } = this.createMonitor(name, seatInfo);\n        this.monitors.push(...monitors);\n        this.monitorTips.push(...monitorTips);\n        const { macMini, macMiniTip } = this.createMacMini(name, seatInfo);\n        const { pc, pcTip } = this.createPC(name, seatInfo);\n        this.pc = pc;\n        this.pcTip = pcTip;\n        this.macMini = macMini;\n        this.macMiniTip = macMiniTip;\n        this.add(this.pc);\n        this.add(this.pcTip);\n        this.add(this.macMini);\n        this.add(this.macMiniTip);\n        this.monitors.forEach((monitor) => this.add(monitor));\n        this.monitorTips.forEach((monitorTip) => this.add(monitorTip));\n    }\n\n    public active(activeMesh: THREE.Mesh) {\n        const member = getDefinedObject3D(activeMesh);\n        const clazzName = member?.userData.clazzName;\n        if (clazzName === Monitor.clazzName) {\n            // 有两个屏幕不好定位\n            (member as Monitor).active();\n            const index = member?.userData.index;\n            this.monitorTips[index].material.visible = true;\n        }\n        if (clazzName === AppleHost.clazzName) {\n            this.macMiniTip.material.visible = true;\n            this.macMini.active();\n        }\n        if (clazzName === HWHost.clazzName) {\n            this.pcTip.material.visible = true;\n            this.pc.active();\n        }\n    }\n\n    public silence() {\n        this.pc.silence();\n        this.macMini.silence();\n        this.monitors.forEach((monitor) => {\n            monitor.silence();\n        });\n        this.pcTip.material.visible = false;\n        this.macMiniTip.material.visible = false;\n        this.monitorTips.forEach((object3D) => {\n            object3D.material.visible = false;\n        });\n    }\n\n    private createMonitor(name: string, seatInfo: SeatInfo) {\n        const monitors = [];\n        const monitorTips = [];\n        const theMonitorObj = new Monitor();\n        if (!Array.isArray(seatInfo.monitor)) return { monitors: [], monitorTips: [] };\n        for (let i = 0; i < seatInfo.monitor.length; i++) {\n            const monitorObj = theMonitorObj.clone();\n            monitorObj.rotation.y = -Math.PI;\n            monitorObj.position.z = i * 40;\n            monitorObj.name = `${name}_monitor_${i}`;\n            monitorObj.userData.highlight = true;\n            monitorObj.userData.type = `monitor.${i}`;\n            monitorObj.userData.index = i;\n            monitorObj.userData.data = seatInfo;\n            const monitorTip = this.createTextSprite(seatInfo.monitor[i]);\n            const { y, z } = getSize(monitorObj);\n            monitorTip.position.y = y + 3;\n            monitorTip.position.z = monitorObj.position.z + z / 2;\n            monitorTip.material.visible = false;\n            monitors.push(monitorObj);\n            monitorTips.push(monitorTip);\n        }\n        return { monitors, monitorTips };\n    }\n    private createPC(name: string, info: SeatInfo) {\n        const hwHost = new HWHost();\n        const { y, z } = getSize(hwHost);\n        hwHost.position.z = -z - 1;\n        hwHost.position.y = y / 2;\n        hwHost.name = `${name}_pc`;\n        hwHost.userData.highlight = true;\n        hwHost.userData.type = 'pc';\n        hwHost.userData.data = info;\n        // hwHost.userData.materials = hwHost.children[0].material;\n        const hwTip = this.createTextSprite(info.pc);\n        hwTip.position.y = y + 3;\n        hwTip.position.z = hwHost.position.z;\n        hwTip.material.visible = false;\n        return {\n            pc: hwHost,\n            pcTip: hwTip,\n        };\n    }\n    private createMacMini(name: string, info: SeatInfo) {\n        const macMini = new AppleHost();\n        const { y } = getSize(macMini);\n        // macMini 放在显示器右边\n        const { z: monitorZ } = getSize(this.monitors[0]);\n\n        macMini.position.z = monitorZ * 2 + 1;\n        macMini.position.y = y / 2;\n        macMini.name = `${name}_macMini`;\n        macMini.userData.highlight = true;\n        macMini.userData.type = 'macMini';\n        macMini.userData.data = info;\n        // macMini.userData.materials = macMini.children[0].material;\n        const macMiniTip = this.createTextSprite(info.macMini);\n        const { x: tipX } = getSize(macMiniTip);\n        macMiniTip.position.y = y + 3;\n        macMiniTip.position.z = macMini.position.z + tipX / 3;\n        macMiniTip.material.visible = false;\n        return {\n            macMini: macMini,\n            macMiniTip: macMiniTip,\n        };\n    }\n    private createTextSprite(text: string) {\n        const textSprite = generateTextSprite(text || '', {\n            fontFace: 'Helvetica',\n            fontSize: 36,\n            fontColor: 'rgba(255, 255, 255, 1)',\n            fontBold: false,\n            fontItalic: false,\n            textAlign: 'center',\n            borderThickness: 3,\n            borderColor: 'rgba(50, 50, 255, 0.8)',\n            borderRadius: 6,\n            backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        });\n        setEqualScale(textSprite, 0.1);\n        return textSprite as THREE.Sprite;\n    }\n}\n","import * as THREE from 'three';\nimport * as TWEEN from '@tweenjs/tween.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\n\nexport const animateOrbitCamera = (\n    { camera, controls }: { camera: THREE.Camera; controls: OrbitControls },\n    {\n        cameraPosition,\n        orbitTargetPosition,\n    }: { cameraPosition: THREE.Vector3; orbitTargetPosition: THREE.Vector3 },\n    {\n        cameraPosition: endCameraPosition,\n        orbitTargetPosition: endOrbitTargetPosition,\n    }: { cameraPosition: THREE.Vector3; orbitTargetPosition: THREE.Vector3 },\n) => {\n    const tween = new TWEEN.Tween({\n        x1: cameraPosition.x, // 相机x\n        y1: cameraPosition.y, // 相机y\n        z1: cameraPosition.z, // 相机z\n        x2: orbitTargetPosition.x, // 控制点的中心点x\n        y2: orbitTargetPosition.y, // 控制点的中心点y\n        z2: orbitTargetPosition.z, // 控制点的中心点z\n    });\n    tween.onStart(() => {\n        controls.enabled = false;\n    });\n    tween.to(\n        {\n            x1: endCameraPosition.x,\n            y1: endCameraPosition.y,\n            z1: endCameraPosition.z,\n            x2: endOrbitTargetPosition.x,\n            y2: endOrbitTargetPosition.y,\n            z2: endOrbitTargetPosition.z,\n        },\n        2000,\n    );\n    tween.onUpdate((result) => {\n        camera.position.x = result.x1;\n        camera.position.y = result.y1;\n        camera.position.z = result.z1;\n        controls.target.x = result.x2;\n        controls.target.y = result.y2;\n        controls.target.z = result.z2;\n        controls.update();\n    });\n    tween.onComplete(() => {\n        controls.enabled = true;\n    });\n    tween.easing(TWEEN.Easing.Cubic.InOut);\n    tween.start();\n};\n","import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\n\nimport { animateOrbitCamera } from '../../util/camera';\n\nimport { ClickObserver } from '@/scenes/odc/event/click';\nimport { p } from '@/scenes/odc/util/path';\n\nexport class KeyPoint extends THREE.Group implements ClickObserver {\n    public static clazzName = 'keyPoint';\n\n    private looAtPosition: THREE.Vector3;\n    private readonly keyPoint: THREE.Mesh<THREE.PlaneGeometry, THREE.MeshBasicMaterial>;\n\n    public constructor(size: number) {\n        super();\n        this.looAtPosition = new THREE.Vector3(0, 0, 0);\n        this.keyPoint = new THREE.Mesh(this.createGeometry(size), this.createMaterial());\n        this.keyPoint.userData.type = 'keypoint';\n        this.userData.clazzName = KeyPoint.clazzName;\n        this.add(this.keyPoint);\n    }\n\n    public beforeClick() {}\n\n    public onClick(\n        {\n            highlightOutlinePass,\n            camera,\n            controls,\n        }: {\n            highlightOutlinePass: OutlinePass;\n            controls: OrbitControls;\n            camera: THREE.Camera;\n        },\n        activeMesh: THREE.Mesh,\n    ) {\n        if (activeMesh.userData.type === 'keypoint') {\n            this.observationArea({ camera, controls }, activeMesh);\n        }\n    }\n\n    public getClickObserveObjects() {\n        return this.children;\n    }\n\n    public setLookAt(lookAt: THREE.Vector3) {\n        this.looAtPosition = lookAt;\n    }\n\n    private createMaterial() {\n        const loader = new THREE.TextureLoader();\n        const texture = loader.load(p('/texture/key-point.png'));\n        return new THREE.MeshBasicMaterial({\n            map: texture,\n            transparent: true,\n            side: THREE.DoubleSide,\n        });\n    }\n\n    private createGeometry(size: number) {\n        const geometry = new THREE.PlaneGeometry(size, size);\n        geometry.rotateX(Math.PI / 2);\n        return geometry;\n    }\n\n    private observationArea(\n        { camera, controls }: { camera: THREE.Camera; controls: OrbitControls },\n        activeMesh: THREE.Mesh,\n    ) {\n        const { x, y, z } = activeMesh.getWorldPosition(new THREE.Vector3());\n        const basePosition = new THREE.Vector3(x, y, z);\n        animateOrbitCamera(\n            { camera, controls },\n            { cameraPosition: camera.position, orbitTargetPosition: controls.target },\n            { cameraPosition: basePosition, orbitTargetPosition: this.looAtPosition },\n        );\n    }\n}\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\n\nimport { Desktop } from '../desktop/desktop';\nimport { KeyPoint } from '../key-point/key-point';\nimport { getSize } from '../../util/object-3d';\nimport { globalEvent } from '../../event';\n\nimport { SeatInfo } from '@/data/workstations-data';\nimport { p } from '@/scenes/odc/util/path';\n\nexport class Seat extends THREE.Group {\n    public static clazzName = 'seat';\n\n    private static resource: Record<string, undefined | THREE.Object3D> = {\n        tableObject3D: undefined,\n    };\n\n    public static loadResource(loadingManager: THREE.LoadingManager) {\n        return new Promise((resolve) => {\n            const objLoader = new OBJLoader(loadingManager);\n            objLoader.load(p('/3d-model/table/table.obj'), (obj) => {\n                Seat.resource.tableObject3D = obj;\n                resolve({ tableObject3D: obj });\n            });\n        });\n    }\n\n    public readonly table: THREE.Object3D;\n    public readonly keyPoint: KeyPoint;\n    public readonly desktop: Desktop;\n\n    public constructor(seatInfo: SeatInfo) {\n        const theSeatInfo = seatInfo || {};\n        super();\n        // 桌子为外部模型\n        this.table = this.createTable();\n        this.keyPoint = this.createKeyPoint();\n        this.desktop = this.createDeskTop(theSeatInfo);\n        this.add(this.table);\n        this.add(this.keyPoint);\n        this.add(this.desktop);\n        // TODO 延时加载观测点 注视方向\n        // eslint-disable-next-line no-promise-executor-return\n        new Promise((resolve) => resolve(true)).then(() => {\n            this.locationKeyPoint();\n        });\n    }\n\n    private locationKeyPoint() {\n        const { y: heightY } = this.getWorldPosition(new THREE.Vector3());\n        const { x: lookX } = this.desktop.getWorldPosition(new THREE.Vector3());\n        const { x: keyPointX, z: keyPointZ } = this.keyPoint.getWorldPosition(new THREE.Vector3());\n        const lockAtPosition = new THREE.Vector3(\n            lookX > keyPointX ? keyPointX + 100 : keyPointX - 100,\n            heightY + 16,\n            keyPointZ,\n        );\n        this.keyPoint.setLookAt(lockAtPosition);\n    }\n    private createKeyPoint() {\n        const keyPoint = new KeyPoint(20);\n        const { x: tableX } = getSize(this.table);\n        keyPoint.position.y = 10;\n        keyPoint.position.x = -tableX - 6;\n        // 添加观测事件\n        globalEvent.dispatchEvent({ type: 'addClickObserver', message: [keyPoint] });\n        return keyPoint;\n    }\n    private createDeskTop(seatInfo: SeatInfo) {\n        const desktopName = `desktop_${seatInfo.rowCode}`;\n        const desktop = new Desktop(desktopName, seatInfo);\n        desktop.name = desktopName;\n        desktop.scale.set(0.25, 0.25, 0.25);\n        const { z: tableZ, y: tableY } = getSize(this.table);\n        desktop.position.y = tableY;\n        desktop.position.z = this.table.position.z - tableZ / 4;\n        return desktop;\n    }\n    private createTable() {\n        if (!Seat.resource.tableObject3D) throw new Error('No Resource');\n        const table = Seat.resource.tableObject3D.clone();\n        // 单张桌子长度\n        // const { x, z } = getSize(table);\n        // 能放桌子的区域 比 目前桌子长\n        // TODO scale 计算错误\n        // const scale = (zLength / seats.length - 1) / x;\n        const scale = 0.25;\n        table.rotation.x = -Math.PI / 2;\n        table.rotation.z = Math.PI / 2;\n        table.scale.set(scale, scale, scale);\n        return table;\n    }\n}\n","import * as THREE from 'three';\n\nimport { Wall } from './wall';\n\nimport { ModelPointer } from '@/scenes/types';\n\nexport class InnerWall extends Wall {\n    // TODO\n    // eslint-disable-next-line max-params\n    public constructor(begin: ModelPointer, end: ModelPointer, height: number, thickness: number) {\n        super(begin, end, height, thickness);\n    }\n\n    protected initMaterial() {\n        return new THREE.MeshLambertMaterial({});\n    }\n}\n","import { ModelLine } from '@/scenes/types';\n\nconst sideSpacing = 1200;\n\nexport enum SeatAreaType {\n    north = 'north',\n    south = 'south',\n}\n\nexport interface SeatInfo {\n    rowCode: string;\n    monitor: string[];\n    macMini: string;\n    pc: string;\n}\n\nexport type AreaSeats = SeatInfo[][];\n\n/**\n * 北部工位区域\n * */\nexport const northWorkstationArea: ModelLine = {\n    begin: [0, 8400],\n    end: [8400 - sideSpacing, 48000],\n};\n\n/**\n * 南部工位区域\n * @type {{end: number[], begin: number[]}}\n */\nexport const southWorkstationArea: ModelLine = {\n    begin: [16800 + sideSpacing, 26800],\n    end: [25200, 66000],\n};\n\nconst generateWorkstationData = (row: number, type: SeatAreaType): AreaSeats => {\n    const result = [];\n    const pre = type === SeatAreaType.north ? '2900' : '2800';\n    for (let i = 0; i < row; i++) {\n        const currentRow = [];\n        for (let j = 0; j < 10; j++) {\n            currentRow.push({\n                rowCode: `${type}-station-row-${i}`,\n                monitor: [`${pre}6${i}${j}${j}`, `${pre}6${i + 1}${j + 1}${j + 1}`],\n                macMini: `${pre}3${i}${j}${j}`,\n                pc: `${pre}2${i}${j}${j}`,\n            });\n        }\n        result.push(currentRow);\n    }\n    return result;\n};\n/**\n * 北区的座位，从门开始算第一排\n * @type {*[]}\n */\n\nexport const northWorkstation = generateWorkstationData(10, SeatAreaType.north);\n\n/**\n * 南区的座位，从门开始算第一排\n * @type {*[]}\n */\nexport const southWorkstation = generateWorkstationData(9, SeatAreaType.south);\n\nexport const odcInfo = {\n    totalSeat: 190,\n    useSeat: 80,\n};\n\nexport const bizGroupInfo = [\n    {\n        code: 'E-commerce Frontend',\n        seats: ['a1', 'a5', 'b9'],\n    },\n    {\n        code: 'Car Network',\n        seats: ['c1', 'c2', 'c3', 'c4', 'c5', 'c6', 'c7', 'c8', 'c9', 'd6'],\n    },\n    {\n        code: 'Low Code',\n        seats: ['e1', 'e2', 'e3', 'e4', 'e5', 'e6', 'e7'],\n    },\n    {\n        code: 'E-commerce Backend',\n        seats: ['f1', 'f2', 'f3', 'f4', 'f5', 'f6', 'f7'],\n    },\n    {\n        code: 'Express',\n        seats: ['g1', 'g2', 'g3', 'g4', 'g5', 'g6', 'g7'],\n    },\n    {\n        code: 'IT Security',\n        seats: ['j1', 'j5', 'j9'],\n    },\n];\n","import * as THREE from 'three';\n\nimport { Wall } from './wall';\n\nimport { ModelPointer } from '@/scenes/types';\n\nexport class ExternalWall extends Wall {\n    // TODO\n    // eslint-disable-next-line max-params\n    public constructor(begin: ModelPointer, end: ModelPointer, height: number, thickness: number) {\n        super(begin, end, height, thickness);\n    }\n    protected initMaterial() {\n        return new THREE.MeshLambertMaterial({\n            color: '#E7E7E7',\n        });\n    }\n}\n","import * as THREE from 'three';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\n\n// import { StationInfo } from '../info/station-info';\nimport { Seat } from '../seat/seat';\nimport { getDefinedObject3D, getDefinedObject3DByName, getSize } from '../../util/object-3d';\nimport { MousemoveObserver } from '../../event/mousemove';\nimport { ClickObserver } from '../../event/click';\nimport { Desktop } from '../desktop/desktop';\n\nimport { AreaSeats, SeatInfo, SeatAreaType } from '@/data/workstations-data';\n\nexport class Workstation extends THREE.Group implements MousemoveObserver, ClickObserver {\n    private activeDesktop: any;\n\n    // eslint-disable-next-line max-params\n    public constructor(\n        {},\n        { xLength, zLength }: { xLength: number; zLength: number },\n        seats: AreaSeats,\n        type: SeatAreaType,\n    ) {\n        super();\n        // 初始化信息面板\n        // this.seatInfoPlan = new StationInfo();\n        const workstation = this.createWorkstation({ xLength, zLength }, seats, type);\n        this.add(workstation);\n    }\n\n    // 暂时不需要在没有 hover 的时候做任何事情\n    public beforeMousemove() {}\n\n    public onMousemove(\n        { highlightOutlinePass }: { highlightOutlinePass: OutlinePass },\n        activeMesh: THREE.Mesh,\n    ) {\n        // 是不是可以进行高亮操作\n        if (activeMesh?.parent?.userData.highlight) {\n            highlightOutlinePass.selectedObjects = [activeMesh?.parent];\n        }\n    }\n\n    public beforeClick() {\n        // 清除上次高亮的设备\n        if (this.activeDesktop) {\n            this.activeDesktop.silence();\n            this.activeDesktop = undefined;\n            // this.seatInfoPlan.hide();\n        }\n    }\n\n    public onClick(\n        { highlightOutlinePass }: { highlightOutlinePass: OutlinePass },\n        activeMesh: THREE.Mesh,\n    ) {\n        // 是不是可以进行高亮操作\n        const definedObject3D = getDefinedObject3D(activeMesh);\n        if (definedObject3D?.userData.highlight) {\n            // 高亮当前的设备\n            const desktop = getDefinedObject3DByName(activeMesh, Desktop.clazzName);\n            if (desktop) {\n                (desktop as Desktop).active(activeMesh);\n                // 记录当前激活物\n                this.activeDesktop = desktop;\n            }\n            // this.seatInfoPlan.show(definedObject3D.userData.data, definedObject3D.userData.type);\n        }\n    }\n\n    public getMousemoveObserveObjects() {\n        const allSeats: THREE.Object3D[] = [];\n        this.children.forEach((innerGroup) => {\n            innerGroup.children.forEach((row) => {\n                row.children.forEach((seat) => {\n                    allSeats.push(seat);\n                });\n            });\n        });\n        return allSeats;\n    }\n\n    // eslint-disable-next-line sonarjs/no-identical-functions\n    public getClickObserveObjects() {\n        const allSeats: THREE.Object3D[] = [];\n        // eslint-disable-next-line sonarjs/no-identical-functions\n        this.children.forEach((innerGroup) => {\n            // eslint-disable-next-line sonarjs/no-identical-functions\n            innerGroup.children.forEach((row) => {\n                row.children.forEach((seat) => {\n                    allSeats.push(seat);\n                });\n            });\n        });\n        return allSeats;\n    }\n\n    private createWorkstation(\n        { xLength, zLength }: { xLength: number; zLength: number },\n        seats: AreaSeats,\n        type: SeatAreaType,\n    ) {\n        const spacing = xLength / seats.length;\n        const xCenter = zLength / 2;\n        const innerGroup = new THREE.Group();\n        seats.forEach((row, idx) => {\n            const seatGroup = this.createSeatGroup(row);\n            seatGroup.name = `${type}_seatRow_${idx}`;\n            // 排列位置\n            seatGroup.position.z = xCenter;\n            seatGroup.position.x = spacing * idx;\n            innerGroup.add(seatGroup);\n        });\n        // 前面要留点空位置\n        innerGroup.position.x = -xLength / 2 + 60;\n        // TODO scale 计算错误\n        innerGroup.position.z = -xCenter - 66;\n        return innerGroup;\n    }\n    private createSeatGroup(rowSeats: SeatInfo[]) {\n        // 按照南北 分为两排\n        const seatsGroup = new THREE.Group();\n        const seatsLength = rowSeats.length;\n        // 背靠背两排的个数\n        const itemNumber = seatsLength / 2;\n        const tempSeat = new Seat(rowSeats[0]);\n        const { x, z } = getSize(tempSeat.table);\n\n        // 循环排列工位\n        for (let i = 0; i < itemNumber; i++) {\n            // 创建一个 工位\n            const eastSeat = new Seat(rowSeats[i]);\n            // 获取宽高信息计算排列\n            const westSeat = new Seat(rowSeats[seatsLength - i - 1]);\n            const offset = z * i;\n            westSeat.position.z = offset;\n            westSeat.position.x = 0;\n            eastSeat.position.z = offset;\n            // 东变的座位需要旋转下, 再移动桌子的距离\n            eastSeat.rotation.y = -Math.PI;\n            eastSeat.position.x = x;\n            // 添加到分组中\n            seatsGroup.add(westSeat);\n            seatsGroup.add(eastSeat);\n        }\n\n        return seatsGroup;\n    }\n}\n","import * as THREE from 'three';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass';\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader';\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\n\nexport const createHighlightElement = (\n    scene: THREE.Scene,\n    camera: THREE.Camera,\n    renderer: THREE.WebGLRenderer,\n) => {\n    // 效果组合器\n    const composer = new EffectComposer(renderer);\n    composer.addPass(new RenderPass(scene, camera));\n\n    const outlinePass = new OutlinePass(\n        new THREE.Vector2(window.innerWidth, window.innerHeight),\n        scene,\n        camera,\n    );\n\n    // 高亮效果配置\n    outlinePass.edgeStrength = Number(3);\n    outlinePass.edgeGlow = Number(0);\n    outlinePass.edgeThickness = Number(1);\n    outlinePass.pulsePeriod = Number(0);\n    outlinePass.usePatternTexture = false;\n    outlinePass.visibleEdgeColor.set('#ffffff');\n    outlinePass.hiddenEdgeColor.set('#190a05');\n\n    composer.addPass(outlinePass);\n\n    // TODO\n    const effectFXAA = new ShaderPass(FXAAShader);\n    effectFXAA.uniforms['resolution'].value.set(1 / window.innerWidth, 1 / window.innerHeight);\n    composer.addPass(effectFXAA);\n\n    return {\n        // 暴漏给外界使用渲染 composer.render()\n        composer,\n        // 暴漏给外界用于，添加高亮元素 outlinePass.selectedObjects = [ activeObjects ]\n        outlinePass,\n    };\n};\n","import { ModelLine } from '@/scenes/types';\n\nexport interface WallData extends ModelLine {\n    type: string;\n}\n\n/**\n * 墙的高度\n * @type {number}\n */\nexport const WALL_HEIGHT = 2800;\n/**\n * 墙的厚度\n * @type {number}\n */\nexport const WALL_THICKNESS = 100;\n/**\n * 地面参数\n * @type {{end: number[], begin: number[]}}\n */\nexport const floor: ModelLine = {\n    begin: [0, 0],\n    end: [25200, 71200],\n};\n\n/**\n * 以西北方为(0,0)坐标,x 轴为 北南 轴， y 为 西东 轴\n * @type {({end: number[], type: string, begin: number[]}|{end: number[], type: string, begin: number[]}|{end: number[], type: string, begin: number[]}|{end: number[], type: string, begin: number[]}|{end: number[], type: string, begin: number[]})[]}\n */\nexport const walls: WallData[] = [\n    // 外墙\n    {\n        type: 'external',\n        begin: [0, 0],\n        end: [0, 71200],\n    },\n    {\n        type: 'external',\n        begin: [25200, 0],\n        end: [25200, 71200],\n    },\n    {\n        type: 'external',\n        begin: [0, 0],\n        end: [25200, 0],\n    },\n    {\n        type: 'external',\n        begin: [0, 71200],\n        end: [25200, 71200],\n    },\n    // 入户区域\n    {\n        type: 'glass',\n        begin: [8400, 0],\n        end: [8400, 8400],\n    },\n    {\n        type: 'inner',\n        begin: [0, 8400],\n        end: [8400, 8400],\n    },\n    // 柜体区域\n    {\n        type: 'inner',\n        begin: [8400, 8400],\n        end: [8400, 12600],\n    },\n    {\n        type: 'inner',\n        begin: [8400, 12600],\n        end: [14400, 16800],\n    },\n    // ODC 外卫生间区域\n    {\n        type: 'inner',\n        begin: [16800, 0],\n        end: [16800, 8400],\n    },\n    {\n        type: 'inner',\n        begin: [16800, 8400],\n        end: [25200, 8400],\n    },\n    // ODC 外会议室区域\n    {\n        type: 'inner',\n        begin: [16800, 19200],\n        end: [16800, 26800],\n    },\n    {\n        type: 'glass',\n        begin: [16800, 16800],\n        end: [16800, 19200],\n    },\n    {\n        type: 'glass',\n        begin: [16800, 19200],\n        end: [25200, 19200],\n    },\n    {\n        type: 'inner',\n        begin: [16800, 26800],\n        end: [25200, 26800],\n    },\n    // ODC 中间隔断的大墙\n    {\n        type: 'inner',\n        begin: [14400, 16800],\n        end: [14400, 36000],\n    },\n    {\n        type: 'inner',\n        begin: [14400, 36000],\n        end: [8400, 42000],\n    },\n    {\n        type: 'inner',\n        begin: [8400, 45600],\n        end: [8400, 49200],\n    },\n    // 会议室区域离墙\n    {\n        type: 'glass',\n        begin: [16800, 49200],\n        end: [16800, 64800],\n    },\n    {\n        type: 'inner',\n        begin: [10800, 49200],\n        end: [10800, 64800],\n    },\n    {\n        type: 'glass',\n        begin: [10800, 49200],\n        end: [16800, 49200],\n    },\n    {\n        type: 'inner',\n        begin: [10800, 64800],\n        end: [16800, 64800],\n    },\n    // 内部厕所走道墙\n    {\n        type: 'inner',\n        begin: [0, 49200],\n        end: [8400, 49200],\n    },\n    // 尾部会议室\n    {\n        type: 'glass',\n        begin: [14400, 68000],\n        end: [25200, 66000],\n    },\n];\n\n// 厨房参数\nexport const kitchenStation = {\n    begin: [8400, 59200],\n    end: [8400, 66400],\n};\n\n// 机器人参数\nexport const robotStation = {\n    begin: [15400, 16800],\n    end: [15400, 36000],\n};\n\n// 北区沙发参数\nexport const northSofaStation = {\n    begin: [8400, 12600],\n    end: [14400, 16800],\n};\n\n// 北区桌子参数\nexport const coffeeTableStation = {\n    begin: [8400, 20400],\n    end: [14400, 25200],\n};\n","export const keyPointPositions = [\n    {\n\t\tbegin: [-3500, 0],\n\t\tend: [25200, -3500],\n\t\ttype: 'hight'\n    },\n    {\n\t\tbegin: [0, 73700],\n\t\tend: [25200, 73700],\n\t\ttype: 'hight'\n    },\n    {\n\t\tbegin: [13800, 49200],\n\t\tend: [13800, 64800]\n    },\n    {\n        begin: [4200, 49200],\n        end: [4200, 71200]\n    }\n];\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { LoadingManager, Object3D } from 'three';\n\nimport { p } from '@/scenes/odc/util/path';\n\n// TODO\n/**\n * 北区沙发\n */\nexport class CoffeeTable extends THREE.Group {\n    private static resource: Record<string, undefined | THREE.Object3D> = {\n        coffeeTableObject3D: undefined,\n    };\n\n    public static loadResource(loadingManager?: LoadingManager) {\n        return new Promise((resolve) => {\n            const objLoader = new OBJLoader(loadingManager);\n            objLoader.load(p('/3d-model/coffee-table/coffee-table.obj'), (obj: Object3D) => {\n                const scale = 0.5;\n                obj.scale.set(scale, scale, scale);\n                CoffeeTable.resource.coffeeTableObject3D = obj;\n                resolve({ coffeeTableObject3D: obj });\n            });\n        });\n    }\n    private readonly coffeeTable: THREE.Object3D;\n\n    public constructor({ x, z }: { x: number; z: number }) {\n        super();\n        this.coffeeTable = this.createCoffeeTable();\n        this.add(this.coffeeTable);\n        this.position.z = z;\n        this.position.x = x;\n    }\n\n    private createCoffeeTable() {\n        if (!CoffeeTable.resource.coffeeTableObject3D) throw new Error('No Resource');\n        const obj = CoffeeTable.resource.coffeeTableObject3D.clone();\n        const scale = 0.5;\n        obj.scale.set(scale, scale, scale);\n        return obj;\n    }\n}\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\n\nimport { SofaObj3D } from '../../../types';\n\nimport { p } from '@/scenes/odc/util/path';\n\n// TODO\n/**\n * 北区沙发\n */\nexport class Sofa extends THREE.Group {\n    private static resource: Record<string, undefined | THREE.Object3D> = {\n        sofaObject3D: undefined,\n    };\n\n    public static loadResource(loadManager: THREE.LoadingManager): Promise<SofaObj3D> {\n        return new Promise((resolve) => {\n            const objLoader = new OBJLoader(loadManager);\n            objLoader.load(p('/3d-model/couch/couch.obj'), (obj) => {\n                Sofa.resource.sofaObject3D = obj;\n                resolve({ sofaObj3D: obj });\n            });\n        });\n    }\n\n    private readonly sofa: THREE.Object3D;\n\n    public constructor(begin: number[], end: number[], { x, z }: { x: number; z: number }) {\n        super();\n        this.position.z = z;\n        this.position.x = x;\n        this.sofa = this.createSofa(begin, end);\n        this.add(this.sofa);\n    }\n\n    private createSofa(begin: number[], end: number[]) {\n        if (!Sofa.resource?.sofaObject3D) throw new Error('No Resource');\n        const sofaObj = Sofa.resource.sofaObject3D.clone();\n        const scale = 50;\n        sofaObj.scale.set(116, scale, scale);\n        sofaObj.rotation.x = -Math.PI / 2;\n        const [beginX, beginY] = begin;\n        const [endX, endY] = end;\n        sofaObj.rotation.z = Math.atan2(endY - beginY, endX - beginX) + Math.PI / 2;\n        sofaObj.translateY(-15);\n        ((sofaObj.children[0] as THREE.Mesh).material as THREE.MeshPhongMaterial).color.set(\n            0x4682b4,\n        );\n        return sofaObj;\n    }\n}\n","import * as THREE from 'three';\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\n\nimport { p } from '@/scenes/odc/util/path';\n\n// TODO\nexport class Kitchen extends THREE.Group {\n    private static resource: Record<string, undefined | THREE.Object3D> = {\n        kitchenObject3D: undefined,\n    };\n\n    public static loadResource(loadingManager: THREE.LoadingManager) {\n        return new Promise((resolve) => {\n            const objLoader = new OBJLoader(loadingManager);\n            objLoader.load(p('/3d-model/kitchen/kitchen.obj'), (obj) => {\n                Kitchen.resource.kitchenObject3D = obj;\n                resolve({ kitchenObject3D: obj });\n            });\n        });\n    }\n    private readonly kitchen: THREE.Object3D;\n\n    public constructor() {\n        super();\n        this.kitchen = this.createKitchen();\n        this.add(this.kitchen);\n    }\n\n    private createKitchen() {\n        if (!Kitchen.resource.kitchenObject3D) throw new Error('No Resource');\n        const obj = Kitchen.resource.kitchenObject3D.clone();\n        const scale = 0.8;\n        obj.scale.set(scale, scale, scale);\n        ((obj.children[0] as THREE.Mesh).material as THREE.MeshPhongMaterial).color.set(0xdeb887);\n        return obj;\n    }\n}\n","import * as THREE from 'three';\nimport { Object3D, Vector3 } from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\n\nimport { ClickObserver } from '@/scenes/odc/event/click';\nimport { animateOrbitCamera } from '@/scenes/odc/util/camera';\nimport { SeatAreaType } from '@/data/workstations-data';\n\nexport class CameraMonitor extends THREE.Group implements ClickObserver {\n    private areaType: string;\n    private observedSeatRowIndex: number;\n\n    public constructor(\n        map: THREE.Texture,\n        { x, y, z }: { x: number; y: number; z: number },\n        { areaType, observedSeatRowIndex }: { areaType: string; observedSeatRowIndex: number },\n    ) {\n        super();\n        this.position.z = z;\n        this.position.x = x;\n        this.position.y = y;\n        this.areaType = areaType;\n        this.observedSeatRowIndex = observedSeatRowIndex;\n        this.add(this.initCameraMonitor(map));\n    }\n\n    public beforeClick() {}\n\n    public onClick(\n        {\n            highlightOutlinePass,\n            camera,\n            controls,\n        }: {\n            highlightOutlinePass: OutlinePass;\n            controls: OrbitControls;\n            camera: THREE.Camera;\n        },\n        activeMesh: THREE.Mesh,\n    ) {\n        if (activeMesh.userData.type === 'cameraMonitor') {\n            this.observationArea({ camera, controls });\n        }\n    }\n\n    public getClickObserveObjects() {\n        return this.children;\n    }\n\n    protected initCameraMonitor(map: THREE.Texture) {\n        const material = new THREE.SpriteMaterial({ map });\n        const sprite = new THREE.Sprite(material);\n        const scale = 20;\n        sprite.scale.set(scale, scale, scale);\n        sprite.userData.type = 'cameraMonitor';\n        return sprite;\n    }\n\n    private observationArea({\n        camera,\n        controls,\n    }: {\n        camera: THREE.Camera;\n        controls: OrbitControls;\n    }) {\n        const { x, y, z } = this.getWorldPosition(new Vector3());\n        const basePosition =\n            this.areaType === SeatAreaType.north\n                ? new THREE.Vector3(x - 10, y + 120, z + 60)\n                : new THREE.Vector3(x, y + 80, z - 80);\n        // @ts-ignore\n        const target: THREE.Group = this.parent.children.find((item) =>\n            item.name.includes(this.areaType),\n        );\n        const position = target.children[0].children[this.observedSeatRowIndex].getWorldPosition(\n            new Vector3(),\n        );\n        const lookAtPosition = new Vector3(position.x, position.y, position.z + 100);\n        animateOrbitCamera(\n            { camera, controls },\n            { cameraPosition: camera.position, orbitTargetPosition: controls.target },\n            { cameraPosition: basePosition, orbitTargetPosition: lookAtPosition },\n        );\n    }\n}\n","export const southCameraMonitors = [\n    {\n        begin: [14400, 32800],\n        end: [20000, 35200],\n        observedSeatRowIndex: 1,\n    },\n    {\n        begin: [14400, 46000],\n        end: [20000, 48400],\n        observedSeatRowIndex: 4,\n    },\n    {\n        begin: [14400, 59200],\n        end: [20000, 61600],\n        observedSeatRowIndex: 7,\n    },\n];\n\nexport const northCameraMonitors = [\n    {\n        begin: [7600, 14200],\n        end: [7600, 16600],\n        observedSeatRowIndex: 1,\n    },\n    {\n        begin: [7600, 26800],\n        end: [7600, 27800],\n        observedSeatRowIndex: 4,\n    },\n    {\n        begin: [7600, 38800],\n        end: [7600, 39400],\n        observedSeatRowIndex: 7,\n    },\n    {\n        begin: [7600, 44600],\n        end: [7600, 46200],\n        observedSeatRowIndex: 9,\n    },\n];\n\nexport interface CameraMonitorItem {\n    begin: number[];\n    end: number[];\n    observedSeatRowIndex: number;\n}\n","import * as THREE from 'three';\nimport * as TWEEN from '@tweenjs/tween.js';\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer';\nimport { OutlinePass } from 'three/examples/jsm/postprocessing/OutlinePass';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nimport Stats from 'three/examples/jsm/libs/stats.module';\nimport { Object3D } from 'three';\n\nimport { Mousemove } from './event/mousemove';\nimport { Click } from './event/click';\nimport { globalEvent } from './event';\nimport { Floor } from './model/floor/floor';\nimport { GlassWall } from './model/wall/glass-wall';\nimport { Seat } from './model/seat/seat';\nimport { InnerWall } from './model/wall/inner-wall';\nimport { ExternalWall } from './model/wall/external-wall';\nimport { Workstation } from './model/workstation/workstation';\nimport { Monitor } from './model/monitor/monitor';\nimport { KeyPoint } from './model/key-point/key-point';\nimport { createHighlightElement } from './util/highlight';\n\nimport {\n    coffeeTableStation,\n    floor,\n    kitchenStation,\n    northSofaStation,\n    WALL_HEIGHT,\n    WALL_THICKNESS,\n    walls,\n} from '@/data/buildings-data';\nimport {\n    AreaSeats,\n    northWorkstation,\n    northWorkstationArea,\n    SeatAreaType,\n    southWorkstation,\n    southWorkstationArea,\n} from '@/data/workstations-data';\nimport { keyPointPositions } from '@/data/key-point-data';\nimport { ModelLine, ModelPointer } from '@/scenes/types';\nimport { CoffeeTable } from '@/scenes/odc/model/coffee-table/coffee-table';\nimport { Sofa } from '@/scenes/odc/model/sofa/sofa';\nimport { Kitchen } from '@/scenes/odc/model/kitchen/kitchen';\nimport { CameraMonitor } from '@/scenes/odc/model/camera-monitor/camera-monitor';\nimport {\n    CameraMonitorItem,\n    northCameraMonitors,\n    southCameraMonitors,\n} from '@/data/camera-monitor-data';\nimport { p } from '@/scenes/odc/util/path';\n\ninterface InitModelObj3D {\n    coffeeTableObj3D: { coffeeTableObj3D: Object3D };\n    sofaObj3D: { sofaObj3D: Object3D };\n    kitchenObj3D: { kitchenObj3D: Object3D };\n}\n\n// import { AppleHost } from './model/computer-host/apple-host';\n\nexport const loadODCResource = (onLoad: () => void) => {\n    const loadingManager = new THREE.LoadingManager(onLoad);\n    return Promise.all([\n        CoffeeTable.loadResource(loadingManager),\n        Sofa.loadResource(loadingManager),\n        Kitchen.loadResource(loadingManager),\n        Monitor.loadResource(loadingManager),\n        // AppleHost.loadResource(),\n        Seat.loadResource(loadingManager),\n    ]);\n};\n\nexport class ODC {\n    private readonly odcGroup: THREE.Group;\n    private readonly renderer: THREE.WebGLRenderer;\n    private readonly camera: THREE.PerspectiveCamera;\n    private readonly scene: THREE.Scene;\n    private highlightComposer: EffectComposer;\n    private readonly highlightOutlinePass: OutlinePass;\n    private readonly controls: OrbitControls;\n    private stats: Stats;\n    private readonly northWorkstation: Workstation;\n    private readonly southWorkstation: Workstation;\n    private readonly keyPoints: any[];\n\n    public constructor() {\n        this.odcGroup = new THREE.Group();\n\n        this.renderer = this.initRender();\n\n        this.camera = this.initCamera();\n\n        this.scene = this.initScene();\n\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n        // @ts-ignore\n        this.stats = new Stats();\n\n        this.initHelp();\n\n        this.initLight();\n\n        // 事件准备\n        const { composer, outlinePass } = createHighlightElement(\n            this.scene,\n            this.camera,\n            this.renderer,\n        );\n        this.highlightComposer = composer;\n        this.highlightOutlinePass = outlinePass;\n\n        this.initEvent();\n\n        // 渲染墙体结构\n        this.renderWall();\n\n        // 渲染地面\n        this.renderFloor();\n\n        // 渲染 ODC 工位\n        this.northWorkstation = this.renderStation(\n            southWorkstationArea,\n            southWorkstation,\n            SeatAreaType.south,\n        );\n        this.odcGroup.add(this.northWorkstation);\n        globalEvent.dispatchEvent({\n            type: 'addClickObserver',\n            message: [this.northWorkstation],\n        });\n        this.southWorkstation = this.renderStation(\n            northWorkstationArea,\n            northWorkstation,\n            SeatAreaType.north,\n        );\n        this.odcGroup.add(this.southWorkstation);\n        globalEvent.dispatchEvent({\n            type: 'addClickObserver',\n            message: [this.southWorkstation],\n        });\n\n        // 渲染厨房\n        this.renderKitchen();\n\n        this.renderNorthSofa();\n        //\n        // // 北区茶几\n        this.renderCoffeeTable();\n        //\n        // // 渲染区域内监控摄像头\n        this.renderCameraMonitor();\n\n        this.keyPoints = this.renderKeyPoints();\n        globalEvent.dispatchEvent({ type: 'addClickObserver', message: this.keyPoints });\n\n        this.scene.add(this.odcGroup);\n\n        this.locationODC();\n\n        this.animate();\n    }\n\n    private initEvent() {\n        // TODO\n        // document.getElementById('#switch-btn').addEventListener( 'click', (event) => {\n        // \tanimateOrbitCamera(\n        // \t\t{camera: this.camera, controls: this.controls},\n        // \t\t{cameraPosition: this.camera.position, orbitTargetPosition: this.controls.target },\n        // \t\t{ cameraPosition: this.oldCamera.position, orbitTargetPosition: this.oldControls.target }\n        // \t)\n        // });\n        window.addEventListener('resize', (event) => {\n            if (this.camera && this.renderer) {\n                this.camera.aspect = window.innerWidth / window.innerHeight;\n                this.camera.updateProjectionMatrix();\n                this.renderer.setSize(window.innerWidth, window.innerHeight);\n            }\n        });\n        // 移动事件\n        const mousemoveEvent = new Mousemove({\n            camera: this.camera,\n            highlightOutlinePass: this.highlightOutlinePass,\n        });\n        globalEvent.addEventListener('addMousemoveObserver', ({ message }) =>\n            mousemoveEvent.addObservers(message),\n        );\n        // 点击事件\n        const clickEvent = new Click({\n            camera: this.camera,\n            highlightOutlinePass: this.highlightOutlinePass,\n            controls: this.controls,\n        });\n        globalEvent.addEventListener('addClickObserver', ({ message }) =>\n            clickEvent.addObservers(message),\n        );\n    }\n\n    private initHelp() {\n        this.controls.screenSpacePanning = false;\n        this.controls.maxPolarAngle = Math.PI / 2;\n        // 坐标轴\n        const axesHelper = new THREE.AxesHelper(100);\n        axesHelper.position.set(0, 100, 0);\n        this.scene.add(axesHelper);\n        document.body.append(this.stats.dom);\n        // this.scene.add(new THREE.GridHelper(2000, 50));\n    }\n\n    private initLight() {\n        const ambientLight = new THREE.AmbientLight(0x606060);\n        this.scene.add(ambientLight);\n\n        const directionalLight = new THREE.DirectionalLight(0xffffff);\n        directionalLight.position.set(1, 0.75, 0.5).normalize();\n        this.scene.add(directionalLight);\n    }\n\n    private initCamera() {\n        const camera = new THREE.PerspectiveCamera(\n            50,\n            window.innerWidth / window.innerHeight,\n            1,\n            6000,\n        );\n        camera.position.set(-712, 1000, -712);\n        camera.lookAt(0, 0, 0);\n        return camera;\n    }\n\n    private initScene() {\n        const scene = new THREE.Scene();\n        scene.background = new THREE.Color('#0a0a0a');\n        return scene;\n    }\n\n    private initRender() {\n        const renderer = new THREE.WebGLRenderer({ antialias: true });\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        document.body.append(renderer.domElement);\n        return renderer;\n    }\n\n    private animate() {\n        requestAnimationFrame(this.animate.bind(this));\n        TWEEN.update();\n        this.stats.update();\n        this.highlightComposer.render();\n    }\n\n    private scale(measurement: number) {\n        const measurementLength = 71200;\n        const viewLength = 1600;\n        return (measurement * viewLength) / measurementLength;\n    }\n\n    private renderWall() {\n        walls.forEach(({ type, begin, end }) => {\n            const [beginPointer, endPointer, height, thickness] = [\n                begin.map((item) => this.scale(item)) as ModelPointer,\n                end.map((item) => this.scale(item)) as ModelPointer,\n                this.scale(WALL_HEIGHT),\n                this.scale(WALL_THICKNESS),\n            ];\n            const wall =\n                type === 'external'\n                    ? new ExternalWall(beginPointer, endPointer, height, thickness)\n                    : (type === 'glass'\n                    ? new GlassWall(beginPointer, endPointer, height, thickness)\n                    : new InnerWall(beginPointer, endPointer, height, thickness));\n            this.odcGroup.add(wall);\n        });\n    }\n\n    // TODO\n    private renderStation(workStationArea: ModelLine, workStation: AreaSeats, type: SeatAreaType) {\n        const { begin, end } = workStationArea;\n        const { x, z } = this.getCenterOfModelArea(begin, end);\n        const [beginX, beginY] = begin.map((element) => this.scale(element));\n        const [endX, endY] = end.map((element) => this.scale(element));\n        const theWorkstation = new Workstation(\n            {},\n            { xLength: endY - beginY, zLength: endX - beginX },\n            workStation,\n            type,\n        );\n        theWorkstation.position.x = x;\n        theWorkstation.position.z = z;\n        theWorkstation.name = `${type}Workstation`;\n        if (type === SeatAreaType.north) {\n            // this.northWorkstation = theWorkstation;\n            // this.odcGroup.add(this.northWorkstation);\n            // return theWorkstation;\n            globalEvent.dispatchEvent({\n                type: 'addClickObserver',\n                message: [this.northWorkstation],\n            });\n        }\n        if (type === SeatAreaType.north) {\n            // this.southWorkstation = theWorkstation;\n            // this.odcGroup.add(this.southWorkstation);\n            // globalEvent.dispatchEvent({\n            //     type: 'addClickObserver',\n            //     message: [this.southWorkstation],\n            // });\n        }\n        return theWorkstation;\n    }\n\n    private renderKitchen() {\n        const { begin, end } = kitchenStation;\n        const { x, z } = this.getCenterOfModelArea(begin as ModelPointer, end as ModelPointer);\n        const kitchen = new Kitchen();\n        kitchen.position.z = z;\n        kitchen.position.x = x;\n        this.odcGroup.add(kitchen);\n    }\n\n    private renderNorthSofa() {\n        const { begin, end } = northSofaStation;\n        const { x, z } = this.getCenterOfModelArea(begin as ModelPointer, end as ModelPointer);\n        this.odcGroup.add(new Sofa(begin, end, { x, z }));\n    }\n\n    private renderCoffeeTable() {\n        const { begin, end } = coffeeTableStation;\n        const { x, z } = this.getCenterOfModelArea(begin as ModelPointer, end as ModelPointer);\n        this.odcGroup.add(new CoffeeTable({ x, z }));\n    }\n\n    private renderCameraMonitor() {\n        let cameraMonitors: Object3D[] = [];\n        const map = new THREE.TextureLoader().load(p('/texture/camera-monitor.png'));\n        cameraMonitors = [\n            ...this.generateCameraMonitor(southCameraMonitors, map, SeatAreaType.south),\n            ...this.generateCameraMonitor(northCameraMonitors, map, SeatAreaType.north),\n        ];\n        cameraMonitors.forEach((item) => this.odcGroup.add(item));\n        globalEvent.dispatchEvent({ type: 'addClickObserver', message: cameraMonitors });\n    }\n\n    private generateCameraMonitor(\n        cameraMonitors: CameraMonitorItem[],\n        map: THREE.Texture,\n        areaType: SeatAreaType,\n    ): Object3D[] {\n        const result: Object3D[] = [];\n        cameraMonitors.forEach((cameraMonitorPosition) => {\n            const { begin, end, observedSeatRowIndex } = cameraMonitorPosition;\n            const { x, z } = this.getCenterOfModelArea(begin as ModelPointer, end as ModelPointer);\n            const obj = new CameraMonitor(\n                map,\n                { x, y: this.scale(WALL_HEIGHT), z },\n                { areaType, observedSeatRowIndex },\n            );\n            result.push(obj);\n        });\n        return result;\n    }\n\n    // TODO 材质优化\n    private renderFloor() {\n        this.odcGroup.add(\n            new Floor(\n                floor.begin.map((itm) => this.scale(itm)) as ModelPointer,\n                floor.end.map((itm) => this.scale(itm)) as ModelPointer,\n            ),\n        );\n    }\n\n    private renderKeyPoints() {\n        return keyPointPositions.map((item) => {\n            const { begin, end } = item;\n            const { x, z } = this.getCenterOfModelArea(begin as ModelPointer, end as ModelPointer);\n            const keyPoint = new KeyPoint(20);\n            keyPoint.position.z = z;\n            keyPoint.position.y = this.scale(WALL_HEIGHT);\n            keyPoint.position.x = x;\n            keyPoint.userData.isNeedLiftCamera = item.type === 'hight';\n            return keyPoint;\n        });\n    }\n\n    private locationODC() {\n        const box3 = new THREE.Box3();\n        box3.expandByObject(this.odcGroup);\n        const center = new THREE.Vector3();\n        box3.getCenter(center);\n\n        this.odcGroup.position.x = this.odcGroup.position.x - center.x;\n        this.odcGroup.position.z = this.odcGroup.position.z - center.z;\n    }\n\n    private getCenterOfModelArea(begin: ModelPointer, end: ModelPointer) {\n        const [beginX, beginY] = begin.map((element) => this.scale(element));\n        const [endX, endY] = end.map((element) => this.scale(element));\n        // 模型的 x 对应 坐标系 z 轴\n        const centerZ = (beginX + endX) / 2;\n        // 模型的 y 对应 坐标系 x 轴\n        const centerX = (beginY + endY) / 2;\n        return { x: centerX, z: centerZ };\n    }\n}\n","<template>\n    <o-panel class=\"info-container\" title=\"项目组信息\">\n        <div class=\"group-container\">\n            <div v-for=\"group in groups\" :key=\"group.code\" class=\"groups\">\n                <div class=\"group-item\">\n                    <p class=\"group-base-info\">\n                        <span class=\"group-name\"> {{ group.code }}</span>\n                        <span class=\"people-count\">{{ group.seats.length }}</span>\n                    </p>\n                    <p class=\"group-seat\">\n                        <el-tag\n                            v-for=\"item in group.seats\"\n                            :key=\"item\"\n                            class=\"seat-tag\"\n                            size=\"mini\"\n                            effect=\"dark\"\n                        >\n                            {{ item.toUpperCase() }}\n                        </el-tag>\n                    </p>\n                </div>\n            </div>\n        </div>\n    </o-panel>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { ElTag } from 'element-plus';\n\nimport OPanel from '@/components/panel/index.vue';\nimport { odcInfo, bizGroupInfo } from '@/data/workstations-data';\n\nexport default defineComponent({\n    components: { OPanel, ElTag },\n    setup() {\n        return {\n            groups: bizGroupInfo,\n            useSeat: odcInfo.useSeat,\n            totalSeat: odcInfo.totalSeat,\n            usageRate: Math.ceil((odcInfo.useSeat / odcInfo.totalSeat) * 100),\n        };\n    },\n});\n</script>\n<style scoped lang=\"scss\">\n.info-container {\n    left: 0;\n    top: 66px;\n    max-height: calc(100% - 66px);\n    overflow: hidden;\n    width: 280px;\n    .group-container {\n        max-height: calc(100% - 100px);\n        .groups {\n            .group-item {\n                text-align: left;\n                margin: 2px 0;\n                .group-base-info {\n                    margin: 0;\n                    overflow: auto;\n                    .group-name {\n                        float: left;\n                        display: block;\n                        width: 180px;\n                    }\n                    .people-count {\n                        display: block;\n                        float: right;\n                        font-weight: 600;\n                        color: #409eff;\n                    }\n                }\n                .seat-tag {\n                    cursor: pointer;\n                    margin: 2px 2px;\n                }\n            }\n        }\n    }\n}\n</style>\n","<template>\n    <el-card class=\"card-define\" shadow=\"hover\">\n        <template #header>\n            <div class=\"card-header\">\n                <span>{{ theTitle }}</span>\n            </div>\n        </template>\n        <slot></slot>\n    </el-card>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from 'vue';\nimport { ElCard } from 'element-plus';\n\nexport default defineComponent({\n    name: 'App',\n    components: { ElCard },\n    props: {\n        title: {\n            required: true,\n            type: String as PropType<string>,\n        },\n    },\n    setup(props) {\n        return { theTitle: props.title };\n    },\n});\n</script>\n<style lang=\"scss\" scoped>\n.card-define {\n    position: absolute;\n    max-width: 280px;\n    .card-header {\n        font-size: 15px;\n        font-weight: 600;\n\n    }\n}\n</style>\n","\nimport { defineComponent, PropType } from 'vue';\nimport { ElCard } from 'element-plus';\n\nexport default defineComponent({\n    name: 'App',\n    components: { ElCard },\n    props: {\n        title: {\n            required: true,\n            type: String as PropType<string>,\n        },\n    },\n    setup(props) {\n        return { theTitle: props.title };\n    },\n});\n","import { render } from \"./index.vue?vue&type=template&id=a5dcbc9a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=a5dcbc9a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-a5dcbc9a\"\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport { ElTag } from 'element-plus';\n\nimport OPanel from '@/components/panel/index.vue';\nimport { odcInfo, bizGroupInfo } from '@/data/workstations-data';\n\nexport default defineComponent({\n    components: { OPanel, ElTag },\n    setup() {\n        return {\n            groups: bizGroupInfo,\n            useSeat: odcInfo.useSeat,\n            totalSeat: odcInfo.totalSeat,\n            usageRate: Math.ceil((odcInfo.useSeat / odcInfo.totalSeat) * 100),\n        };\n    },\n});\n","import { render } from \"./index.vue?vue&type=template&id=44d7b64f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=44d7b64f&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-44d7b64f\"\n\nexport default script","<template>\n    <o-panel class=\"info-container\" title=\"ODC 概况\">\n        <div class=\"content\">\n            <el-progress\n                class=\"odc-progress\"\n                :stroke-width=\"12\"\n                type=\"circle\"\n                :percentage=\"usageRate\"\n            >\n                <template #default=\"{ percentage }\">\n                    <span class=\"percentage-value\">{{ percentage }}%</span>\n                    <span class=\"percentage-label\">工位使用率</span>\n                </template>\n            </el-progress>\n            <div class=\"progress-info\">\n                <p class=\"progress-info-item\">\n                    <span class=\"label\">使用中工位</span\n                    ><span class=\"value-use\">{{ useSeat }}</span>\n                </p>\n                <p class=\"progress-info-item\">\n                    <span class=\"label\">未使用中工位</span\n                    ><span class=\"value-no-use\">{{ totalSeat - useSeat }}</span>\n                </p>\n            </div>\n        </div>\n    </o-panel>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { ElProgress } from 'element-plus';\n\nimport OPanel from '@/components/panel/index.vue';\nimport { odcInfo, bizGroupInfo } from '@/data/workstations-data';\n\nexport default defineComponent({\n    components: { OPanel, ElProgress },\n    setup() {\n        return {\n            groups: bizGroupInfo,\n            useSeat: odcInfo.useSeat,\n            totalSeat: odcInfo.totalSeat,\n            usageRate: Math.ceil((odcInfo.useSeat / odcInfo.totalSeat) * 100),\n        };\n    },\n});\n</script>\n<style scoped lang=\"scss\">\n.info-container {\n    right: 0;\n    top: 66px;\n    max-height: calc(100% - 66px);\n    overflow: hidden;\n    width: 280px;\n    .panel-split {\n        margin: 18px 0 8px 0;\n        text-align: left;\n        font-size: 15px;\n    }\n    .content {\n        text-align: center;\n        .odc-progress {\n            .percentage-value {\n                display: block;\n                font-size: 28px;\n            }\n            .percentage-label {\n                display: block;\n                margin-top: 10px;\n                font-size: 12px;\n                color: #a1a1a6;\n            }\n        }\n        .progress-info {\n            .progress-info-item {\n                margin: 5px 0;\n                text-align: left;\n                overflow: auto;\n                .label {\n                    margin-right: 20px;\n                }\n                .value-use {\n                    font-size: 16px;\n                    font-weight: 600;\n                    color: #409eff;\n                    float: right;\n                }\n                .value-no-use {\n                    font-size: 16px;\n                    font-weight: 600;\n                    float: right;\n                    color: #ffffff;\n                }\n            }\n        }\n    }\n}\n</style>\n","\nimport { defineComponent } from 'vue';\nimport { ElProgress } from 'element-plus';\n\nimport OPanel from '@/components/panel/index.vue';\nimport { odcInfo, bizGroupInfo } from '@/data/workstations-data';\n\nexport default defineComponent({\n    components: { OPanel, ElProgress },\n    setup() {\n        return {\n            groups: bizGroupInfo,\n            useSeat: odcInfo.useSeat,\n            totalSeat: odcInfo.totalSeat,\n            usageRate: Math.ceil((odcInfo.useSeat / odcInfo.totalSeat) * 100),\n        };\n    },\n});\n","import { render } from \"./index.vue?vue&type=template&id=a0ff15e4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=a0ff15e4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-a0ff15e4\"\n\nexport default script","<template>\n    <el-button-group class=\"toolbar\">\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n        <el-button icon=\"el-icon-view\" size=\"mini\"></el-button>\n    </el-button-group>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { ElButton, ElButtonGroup } from 'element-plus';\n\nexport default defineComponent({\n    components: { ElButtonGroup, ElButton },\n    setup() {},\n});\n</script>\n<style scoped lang=\"scss\">\n.toolbar {\n    position: absolute;\n    bottom: 38px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n</style>\n","\nimport { defineComponent } from 'vue';\nimport { ElButton, ElButtonGroup } from 'element-plus';\n\nexport default defineComponent({\n    components: { ElButtonGroup, ElButton },\n    setup() {},\n});\n","import { render } from \"./index.vue?vue&type=template&id=e5ef00d6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts\"\nexport * from \"./index.vue?vue&type=script&lang=ts\"\n\nimport \"./index.vue?vue&type=style&index=0&id=e5ef00d6&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-e5ef00d6\"\n\nexport default script","\nimport { defineComponent } from 'vue';\nimport { ElLoading } from 'element-plus';\n\nimport { loadODCResource, ODC } from '@/scenes/odc';\nimport BizGroupInfo from '@/views/biz-group-info/index.vue';\nimport OverviewInfo from '@/views/overview-info/index.vue';\nimport MonitorToolbar from '@/views/monitor-toolbar/index.vue';\n\nexport default defineComponent({\n    name: 'App',\n    components: { BizGroupInfo, OverviewInfo, MonitorToolbar },\n    setup() {\n        const loading = ElLoading.service({\n            lock: true,\n            text: 'Loading',\n            background: 'rgba(0, 0, 0, 0.7)',\n        });\n\n        loadODCResource(() => loading.close()).then(() => {\n            // eslint-disable-next-line no-new\n            new ODC();\n        });\n    },\n});\n","import { render } from \"./app.vue?vue&type=template&id=7e928d3c\"\nimport script from \"./app.vue?vue&type=script&lang=ts\"\nexport * from \"./app.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createApp } from 'vue';\n\nimport App from './app.vue';\n\nimport 'element-theme-dark';\nimport '@/element-theme/index.scss';\nimport '@/main.css';\n\ncreateApp(App).mount('#app');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=e5ef00d6&scoped=true&lang=scss\""],"sourceRoot":""}